<!DOCTYPE html><html lang="en-US"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Zephyr RTOS Real Application Tutorial series</title><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" media="print" onload="this.media='all'"> <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap"> </noscript><link rel="preconnect dns-prefetch" href="https://www.googletagmanager.com" crossorigin><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><meta name="google-site-verification" content="V8_OYoa-HOun0n_6OmlNBjYry1ZE9SZU1CwLv9GlD5k"><link rel="manifest" href="/assets/manifest.json"><meta name="mobile-web-app-capable" content="yes"><meta name="theme-color" content="#f0f0f0"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Mr. Green's Workshop's App"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="msapplication-TileColor" content="#2d89ef"><meta name="msapplication-starturl" content="/"><meta name="application-name" content="Mr. Green's Workshop's App"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="keywords" content="Microcontrollers, Raspberry Pi Pico, Zephyr RTOS"><meta name="description" content="Zephyr RTOS real application start to end tutorials with drivers, devicetrees, modules, pin control, overlays, and macros using Raspberry Pi Pico a..."><meta name="robots" content="index, follow"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Zephyr RTOS Real Application Tutorial series"><meta name="twitter:site" content="@MrGreenWorkshop"><meta name="twitter:description" content="Zephyr RTOS real application start to end tutorials with drivers, devicetrees, modules, pin control, overlays, and macros using Raspberry Pi Pico and PicoDRO."><meta name="twitter:image" content="https://www.mrgreensworkshop.com/assets/img/posts/id_raspi_pico_zephyr_rtos_picodro/mainen.jpg"><meta property="og:site_name" content="Mr. Green's Workshop"><meta property="og:type" content="article"><meta property="og:title" content="Zephyr RTOS Real Application Tutorial series"><meta property="og:description" content="Zephyr RTOS real application start to end tutorials with drivers, devicetrees, modules, pin control, overlays, and macros using Raspberry Pi Pico a..."><meta property="og:url" content="https://www.mrgreensworkshop.com/posts/2023-03-24-raspberry-pi-pico-zephyr-rtos-picodro"><meta property="og:image" content="https://www.mrgreensworkshop.com/assets/img/posts/id_raspi_pico_zephyr_rtos_picodro/mainen.jpg"><meta property="article:author" content="Mr. Green's Workshop"><meta property="article:section" content="Microcontrollers"><meta property="article:tag" content="Raspberry Pi Pico"><meta property="article:tag" content="Zephyr RTOS"> <script type="application/ld+json">{ "@context": "https://schema.org" ,"@graph": [ { "@type": "Person" ,"@id": "https://www.mrgreensworkshop.com/#person" ,"name": "Mr. Green's Workshop" ,"url": "https://www.mrgreensworkshop.com/tabs/about.html" ,"image": "https://www.mrgreensworkshop.com/assets/img/about/about.jpg" ,"description": "Creating Programming, Home Automation (IoT), Electronics, Microcontrollers, DIY, 3D Printers, Robots, Machining / CNC, Servers related projects." },{ "@type": "WebSite" ,"@id": "https://www.mrgreensworkshop.com/#website" ,"url": "https://www.mrgreensworkshop.com/" ,"name": "Mr. Green's Workshop" ,"description": "Creating Programming, Home Automation (IoT), Electronics, Microcontrollers, DIY, 3D Printers, Robots, Machining / CNC, Servers related projects." ,"publisher": {"@id": "https://www.mrgreensworkshop.com/#person"} ,"inLanguage": "en-US" ,"sameAs": ["https://www.youtube.com/@MrGreensWorkshop","https://twitter.com/MrGreenWorkshop","https://mastodon.social/@MrGreensWorkshop","https://www.instagram.com/mrgreensworkshop","https://github.com/MrGreensWorkshop","https://ko-fi.com/MrGreensWorkshop","https://www.patreon.com/MrGreensWorkshop"] ,"copyrightHolder" : {"@id": "https://www.mrgreensworkshop.com/#person"} ,"copyrightYear" : "2022" },{ "@type": "WebPage" ,"@id": "https://www.mrgreensworkshop.com/posts/2023-03-24-raspberry-pi-pico-zephyr-rtos-picodro#webpage" ,"url": "https://www.mrgreensworkshop.com/posts/2023-03-24-raspberry-pi-pico-zephyr-rtos-picodro" ,"name": "Zephyr RTOS Real Application Tutorial series" ,"isPartOf": {"@id": "https://www.mrgreensworkshop.com/#website"} ,"breadcrumb": {"@id": "https://www.mrgreensworkshop.com/posts/2023-03-24-raspberry-pi-pico-zephyr-rtos-picodro#breadcrumb"} ,"primaryImageOfPage": "https://www.mrgreensworkshop.com/assets/img/posts/id_raspi_pico_zephyr_rtos_picodro/mainen.jpg" ,"description": "Zephyr RTOS real application start to end tutorials with drivers, devicetrees, modules, pin control, overlays, and macros using Raspberry Pi Pico a..." ,"inLanguage": "en-US" ,"potentialAction": { "@type": "ReadAction" ,"target": "https://www.mrgreensworkshop.com/posts/2023-03-24-raspberry-pi-pico-zephyr-rtos-picodro" } },{ "@type": "BreadcrumbList", "@id": "https://www.mrgreensworkshop.com/posts/2023-03-24-raspberry-pi-pico-zephyr-rtos-picodro#breadcrumb", "itemListElement": [ { "@type": "ListItem" ,"position": 1 ,"name": "Home" ,"item": "https://www.mrgreensworkshop.com/" }, { "@type": "ListItem" ,"position": 2 ,"name": "Blog" ,"item": "https://www.mrgreensworkshop.com/tabs/blog/" }, { "@type": "ListItem" ,"position": 3 ,"name": "Zephyr RTOS Real Application Tutorial series" } ] },{ "@type": "BlogPosting" ,"@id": "https://www.mrgreensworkshop.com/posts/2023-03-24-raspberry-pi-pico-zephyr-rtos-picodro#content" ,"isPartOf": {"@id": "https://www.mrgreensworkshop.com/posts/2023-03-24-raspberry-pi-pico-zephyr-rtos-picodro#webpage"} ,"mainEntityOfPage": {"@id": "https://www.mrgreensworkshop.com/posts/2023-03-24-raspberry-pi-pico-zephyr-rtos-picodro#webpage"} ,"publisher": {"@id": "https://www.mrgreensworkshop.com/#person"} ,"author": {"@id": "https://www.mrgreensworkshop.com/#person"} ,"inLanguage": "en-US" ,"headline": "Zephyr RTOS Real Application Tutorial series" ,"image": "https://www.mrgreensworkshop.com/assets/img/posts/id_raspi_pico_zephyr_rtos_picodro/mainen.jpg" ,"thumbnailUrl": "https://www.mrgreensworkshop.com/assets/img/posts/id_raspi_pico_zephyr_rtos_picodro/mainen.jpg" ,"articleSection": ["Microcontrollers", "Raspberry Pi Pico", "Zephyr RTOS"] ,"description": "Zephyr RTOS real application start to end tutorials with drivers, devicetrees, modules, pin control, overlays, and macros using Raspberry Pi Pico a..." ,"copyrightHolder" : {"@id": "https://www.mrgreensworkshop.com/#person"} ,"copyrightYear" : "2022" ,"wordCount": 1242 ,"articleBody": "In this post, I’ll walk you through the process of creating a real Zephyr RTOS application based on the Raspberry Pi Pico. I assume that you have finished all the other episodes. Please watch all Zephyr RTOS tutorial videos to better understand the subject. Introduction Since I promised to make a real application with Zephyr RTOS, I decided it would be more informative to build a tutorial around an actual, functional application. So I decided to remake the PicoDRO application using Zephyr RTOS. It is dedicated to learning Zephyr RTOS drivers, devicetrees, modules, pin control, overlays, macros, and more. The requirement for RTOS is out of scope for the content. PicoDRO is an open-source digital readout project that reads linear scales (encoders) with the Raspberry Pi Pico and Pico SDK. This video demonstrates how it is designed and works. Here is the PicoDRO repository, which also contains a circuit schematic, etc. I took my time breaking down this project into small pieces to make it easy to understand. All tags are compilable and executable. Some tags have a slightly different readme file that specifies compilation than others. Thank you for considering supporting my work! Tags and video links As I post new tutorial videos for the Real Application series, I will add new tags to the repo. v1.0.0 VS Code environment settings for Linux, macOS, and Windows. Debug config is added. v1.1.0 Setting USB CDC ACM as console output. v1.2.0 DTR line control for logging. v1.3.0 Setting USB CDC ACM as the default console. Preparation I assume you have; Finished the Zephyr development environment setup. It is covered in this video. Zephyr RTOS source code on the paths below. Linux or macOS Windows cd ~/zephyrproject cd %USERPROFILE%/zephyrproject Installed VS Code. (not mandatory) If so, you are good to go. At each part, execute the command specified in the part that applies to you. When you get to the end of the page, the application will have been compiled and will be running. * Except as otherwise specified, the commands are the same for Linux, macOS, and Windows. * The commands were tested on Linux (Ubuntu 22.04), macOS (Ventura 13.2), and Windows (10). Initialization Please choose your desired project type (workspace app or freestanding app) and follow the instructions below. I will be using the workspace application in the tutorial videos. Then select a tag and replace &lt;tag_name&gt; with your preferred tag (for example, v1.0.0) in the commands below. For more about Zephyr RTOS application types, please watch this video. Initialization as a workspace application 1. Navigate to the project’s desired location by changing the directory. Linux or macOS Windows cd ~/Desktop cd %USERPROFILE%/Desktop 2. Initialize the workspace. # initialize the workspace west init -m https://github.com/MrGreensWorkshop/ZephyrOS_RasPiPico_PicoDRO --mr &lt;tag_name&gt; PicoDRO # cd to project and update Zephyr modules cd PicoDRO west update * Please don’t forget to comment the terminal.integrated.env settings in .vscode/settings.json. Initialization as a freestanding application 1. Navigate to Zephyr RTOS source code directory. Linux or macOS Windows cd ~/zephyrproject cd %USERPROFILE%/zephyrproject 2. For this project, we will be using Zephyr v3.2.0, so we need to switch zephyrproject/zephyr to it. Or if you don’t want to change your zephyrproject then go to step 3. # switch to zephyr v3.2.0 git -C zephyr checkout tags/v3.2.0 # update Zephyr modules west update 3. If you already ran the commands in step 2, jump to step 4. Rename the current zephyrproject and get Zephyr v3.2.0, as shown below. Linux or macOS # rename the current zephyrproject directory move ~/zephyrproject ~/zephyrproject_old # initialize west init --mr v3.2.0 ~/zephyrproject # cd to project and update Zephyr modules cd ~/zephyrproject west update Windows # rename the current zephyrproject directory move %USERPROFILE%/zephyrproject %USERPROFILE%/zephyrproject_old # initialize west init --mr v3.2.0 %USERPROFILE%/zephyrproject # cd to project and update Zephyr modules cd %USERPROFILE%/zephyrproject west update 4. Clone the repository as shown below, or download the desired tag from the release page. git clone -b &lt;tag_name&gt; https://github.com/MrGreensWorkshop/ZephyrOS_RasPiPico_PicoDRO.git * Please don’t forget to uncomment the terminal.integrated.env settings in .vscode/settings.json as mentioned in the build process below. Build process 1. Setting up environment variables Workspace application Using VS Code No action is required. If you are not planing to use debugging you can delete the .vscode directory at all. Using the Shell or Command Prompt No action is required. Freestanding application Using VS Code Open the .vscode/settings.json file and uncomment terminal.integrated.env settings. Reopen the project directory in VS Code after making any modifications to the .vscode/settings.json file. Please don’t forget to reopen the project directory in VS Code after changing tags. Since environment variables may differ between tags. Using the Shell or Command Prompt Please make sure to set environment variables using the following command when using Shell or Command Prompt (not PowerShell). Linux or macOS Windows source ~/zephyrproject/zephyr/zephyr-env.sh %USERPROFILE%/zephyrproject/zephyr/zephyr-env.cmd 2. Building Some tags may have different build commands. Please refer to the readme file on the project repo for each tag for build commands. Running 1. Put the Raspberry Pi Pico into bootloader mode by pushing the bootsel button while plugging it into your computer. Or you can use PicoProbe to write the binary. For more about that, check out Debugging. 2. Copy the build/zephyr/zephyr.uf2 file to the Raspberry Pi Pico either by dragging and dropping or using the cp command as shown below. Linux macOS cp build/zephyr/zephyr.uf2 /media/&lt;user&gt;/RPI-RP2 cp build/zephyr/zephyr.uf2 /Volumes/RPI-RP2 3. Getting Console Output Please make sure to build with the desired configuration (USB or UART). USB configuration available with and after tag v1.1.0. Using Raspberry Pi Pico USB CDC ACM (built with USB configuration) Please connect to your PC via USB. Using UART0 over USB serial adapter (built with UART configuration) Please connect its UART0 to your PC via the USB serial adapter. Pin Function USB / Serial converter 1 UART0 TX RX 2 UART0 RX TX 3 GND GND Using PicoProbe as USB serial adapter When you are using PicoProbe just as a USB serial adapter, you don’t need to install anything on your PC. Connect your target Raspberry Pi Pico to PicoProbe. As shown in the schematic diagram, connect three Serial I/F pins. Please make sure DTR is turned on. Otherwise, you will not get serial output. Final step Open your favorite serial terminal app and set the baud rate to 115200, then open the corresponding serial port. Debugging For more about debugging on Zephyr RTOS using PicoProbe, please watch this video. You can also check this blog post for the circuit diagram and how to guide. 1. Connect your target Raspberry Pi Pico to PicoProbe. As shown in the schematic diagram, connect three pins each for SWD I/F and Serial I/F pins. 2. For debugging set the svdFile on .vscode/launch.json file based on your project configuration (freestanding app or workspace app). You Can Support My Work Creating projects like this takes a great amount of time. Much appreciated if you consider supporting me so that I can continue projects like this and creating new contents for everyone. You might consider supporting me via GitHub Sponsors, Patreon, or Ko-fi. For links, please see the About page. Credits I’d like to thank all project(s) that gave me an opportunity to make this project possible. Zephyr Project is a scalable real-time operating system (RTOS) supporting multiple hardware architectures, optimized for resource constrained devices, and built with security in mind. Final words You can access the dedicated repository through this link. Tell me what you think in the comments. To be continued…" } ] }</script><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"><link href="/assets/css/main.css" rel="stylesheet"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v0.4.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/magnific-popup.css"><link href="/assets/css/nav-media.css" rel="stylesheet"></head><body > <script src="/assets/js/color-scheme-attr-init.js" data-mode="false"></script><nav class="navbar navbar-default top-nav"><div class="navbar-header"> <button type="button" aria-label="Side menu" class="navbar-toggle collapsed pull-left top-nav-menu-toggle" data-toggle="collapse" data-target="#id_top-nav-menu-toggle" aria-expanded="false"> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a class="navbar-brand top-nav-brand" href="/" translate="no">Mr. Green's Workshop</a></div><div class="color_scheme_switch_top_holder" data-toggle="tooltip" data-placement="bottom" title="Color scheme"> <label class="color-scheme-switch hover-effect"> <input type="checkbox" class="checkbox_color_switch" /> <span></span> </label></div></nav><nav id="side-nav-container"><div class="side-nav"><div class="side-nav-brand"> <img src="/assets/img/about/about.jpg" alt=""><div class="brand-holder"></div><p>&nbsp;</p><br><div class="lang-switch"><p>[&nbsp;</p><ul translate="no"><li lang="en-US"><a href="/posts/2023-03-24-raspberry-pi-pico-zephyr-rtos-picodro" class=" active-page hover-effect">En&nbsp;</a></li><li> <a href="javascript:void(0);" role="button" class="hover-effect" onclick="showToolTip(this, '訳がありません');" data-toggle="tooltip" data-placement="bottom" title=""> Jp&nbsp;</a></li></ul><p>]</p></div></div><br> <a href="javascript:void(0);" class="side-nav-close" role="button" rel="nofollow"> <i class="fa fa-angle-double-left fa-2x" aria-hidden="true"></i> </a><hr> <br><div class="side-nav-buttons"><ul class="nav nav-pills nav-stacked"><li ><a href="/" class=" hover-effect"><i class="fa-fw fa fa-home" aria-hidden="true"></i>Home</a></li><li ><a href="/tabs/blog/" class="active-page hover-effect"><i class="fa-fw fa fa-pencil-square-o" aria-hidden="true"></i>Blog</a></li><li ><a href="/tabs/archive.html" class=" hover-effect"><i class="fa-fw fa fa-archive" aria-hidden="true"></i>Archive</a></li><li ><a href="/tabs/about.html" class=" hover-effect"><i class="fa-fw fa fa-user-o" aria-hidden="true"></i>About</a></li></ul></div><br> <br><div class="contact-container"><hr><h3>Contact</h3><ul><li><a href="https://www.youtube.com/@MrGreensWorkshop" aria-label="youtube" class="hover-effect-big" target="_blank" rel="noopener noreferrer"><i class="fa fa-youtube-play" aria-hidden="true"></i></a></li><li><a href="https://twitter.com/MrGreenWorkshop" aria-label="twitter" class="hover-effect-big" target="_blank" rel="noopener noreferrer"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a href="https://mastodon.social/@MrGreensWorkshop" aria-label="mastodon" class="hover-effect-big" target="_blank" rel="me noopener noreferrer"><img src="/assets/img/default/mastodon.svg" alt="mastodon"/></a></li><li><a href="https://www.instagram.com/mrgreensworkshop" aria-label="instagram" class="hover-effect-big" target="_blank" rel="noopener noreferrer"><i class="fa fa-instagram" aria-hidden="true"></i></a></li><li><a href="https://github.com/MrGreensWorkshop" aria-label="github" class="hover-effect-big" target="_blank" rel="noopener noreferrer"><i class="fa fa-github" aria-hidden="true"></i></a></li><li><a href="https://ko-fi.com/MrGreensWorkshop" aria-label="ko-fi" class="hover-effect-big" target="_blank" rel="noopener noreferrer"><img src="/assets/img/default/kofi.svg" alt="ko-fi"/></a></li><li><a href="https://www.patreon.com/MrGreensWorkshop" aria-label="patreon" class="hover-effect-big" target="_blank" rel="noopener noreferrer"><img src="/assets/img/default/patreon.svg" alt="patreon"/></a></li></ul></div><hr id="toc-view-top"><div class="side-nav-footer" translate="no"><p>&copy; 2022 Mr. Green's Workshop.</p></div></div><div class="side-nav-bottom-buttons-container"><hr><ul><li><div class="color_scheme_switch_side_holder" data-toggle="tooltip" data-placement="top" title="Color scheme"> <label class="color-scheme-switch hover-effect"> <input type="checkbox" class="checkbox_color_switch" /> <span></span> </label></div></li><li><div class="cookie-icon hover-effect" onclick="CookieConsent.showSettings();" data-toggle="tooltip" data-placement="top" title="Cookie settings"><div class="cookie-wrapper"> <i class="fa fa-circle bitten-cookie" aria-hidden="true"></i> <i class="fa fa-circle small-ellipse-icon" aria-hidden="true"></i> <i class="fa fa-spinner inner-icon" aria-hidden="true"></i> <i class="fa fa-circle-thin outer-icon" aria-hidden="true"></i></div></div></li></ul></div></nav><div id="toc-container" class="movable"><div class="panel panel-default"><div class="panel-heading" data-toggle="tooltip" data-placement="top" title="Drag to move"> Contents <span class="pull-right"> <a href="javascript:void(0);" aria-label="Close" role="button" rel="nofollow" class="close-button" onclick="document.getElementById('toc-container').style.display = 'none';"> <i class="fa fa-times" data-toggle="tooltip" data-placement="bottom" title="Close"></i> </a> </span></div><div class="panel-body"><nav id="table-of-contents"></nav></div></div></div><div id="main-wrapper"><div class="main-container"><div class="multipurpose-container post-container"><div class="post-title"><h1>Zephyr RTOS Real Application Tutorial series</h1></div><div class="meta"> <small> &nbsp;<i class="fa fa-calendar"></i>&nbsp;&nbsp;Mar 24, 2023 </small> <small> &nbsp;&nbsp;&nbsp;<span><i class="fa fa-clock-o"></i>&nbsp;9 min read</span> </small></div><hr/><div class="markdown-style"><p><img class="lozad imgViewer mfp-zoom" data-mfp-src="/assets/img/posts/id_raspi_pico_zephyr_rtos_picodro/mainen.jpg" data-src="/assets/img/posts/id_raspi_pico_zephyr_rtos_picodro/mainen.jpg" alt="Zephyr RTOS Real Application Tutorial series" data-align="center" /></p><p>In this post, I’ll walk you through the process of creating a real Zephyr RTOS application based on the Raspberry Pi Pico. I assume that you have finished all the other episodes. Please watch all <a href="https://www.youtube.com/playlist?list=PLAymxPbYHgl-FZSggEx_lRJoPU2h4tT36">Zephyr RTOS tutorial videos</a> to better understand the subject.</p><div class="video-wrapper video-centered"><div class="video-container"> <iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/videoseries?list=PLAymxPbYHgl-FZSggEx_lRJoPU2h4tT36" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div></div><h3 id="introduction">Introduction</h3><p>Since I promised to make a real application with Zephyr RTOS, I decided it would be more informative to build a tutorial around an actual, functional application. So I decided to remake the PicoDRO application using Zephyr RTOS. It is dedicated to learning Zephyr RTOS drivers, devicetrees, modules, pin control, overlays, macros, and more. The requirement for RTOS is out of scope for the content.</p><p>PicoDRO is an open-source digital readout project that reads linear scales (encoders) with the Raspberry Pi Pico and Pico SDK. <a href="https://youtu.be/lGm3rTDp7nE">This video</a> demonstrates how it is designed and works. Here is the <a href="https://github.com/MrGreensWorkshop/RasPiPicoSDK_PicoDRO">PicoDRO repository</a>, which also contains a circuit schematic, etc.</p><p>I took my time breaking down this project into small pieces to make it easy to understand. All tags are compilable and executable. Some tags have a slightly different readme file that specifies compilation than others.</p><p>Thank you for considering <a href="#you-can-support-my-work">supporting my work!</a></p><h3 id="tags-and-video-links">Tags and video links</h3><p>As I post new tutorial videos for the Real Application series, I will add new tags to the repo.</p><ul><li>v1.0.0 VS Code environment settings for Linux, macOS, and Windows. Debug config is added.</li><li>v1.1.0 Setting USB CDC ACM as console output.</li><li>v1.2.0 DTR line control for logging.</li><li>v1.3.0 Setting USB CDC ACM as the default console.</li></ul><h3 id="preparation">Preparation</h3><p>I assume you have;</p><ul><li><p>Finished the Zephyr development environment setup. It is covered in <a href="https://youtu.be/twgPd9IQl88">this video</a>.</p></li><li><p>Zephyr RTOS source code on the paths below.</p><table class="table table-striped"><thead><tr><th style="text-align: left">Linux or macOS</th><th>Windows</th></tr></thead><tbody><tr><td style="text-align: left"><code class="language-plaintext highlighter-rouge">cd ~/zephyrproject</code></td><td><code class="language-plaintext highlighter-rouge">cd %USERPROFILE%/zephyrproject</code></td></tr></tbody></table></li><li><p>Installed VS Code. (not mandatory)</p></li></ul><p>If so, you are good to go. At each part, execute the command specified in the part that applies to you. When you get to the end of the page, the application will have been compiled and will be running.</p><p><strong>*</strong> Except as otherwise specified, the commands are the same for Linux, macOS, and Windows.</p><p><strong>*</strong> The commands were tested on Linux (Ubuntu 22.04), macOS (Ventura 13.2), and Windows (10).</p><h3 id="initialization">Initialization</h3><p>Please choose your desired project type (workspace app or freestanding app) and follow the instructions below. I will be using the workspace application in the tutorial videos. Then select a tag and replace <code class="language-plaintext highlighter-rouge">&lt;tag_name&gt;</code> with your preferred tag (for example, v1.0.0) in the commands below. For more about Zephyr RTOS application types, please watch <a href="https://youtu.be/twgPd9IQl88">this video</a>.</p><ul><li><p><strong>Initialization as a workspace application</strong></p><p><strong>1.</strong> Navigate to the project’s desired location by changing the directory.</p><table class="table table-striped"><thead><tr><th style="text-align: left">Linux or macOS</th><th>Windows</th></tr></thead><tbody><tr><td style="text-align: left"><code class="language-plaintext highlighter-rouge">cd ~/Desktop</code></td><td><code class="language-plaintext highlighter-rouge">cd %USERPROFILE%/Desktop</code></td></tr></tbody></table><p><strong>2.</strong> Initialize the workspace.</p><div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="c"># initialize the workspace</span>
  west init <span class="nt">-m</span> https://github.com/MrGreensWorkshop/ZephyrOS_RasPiPico_PicoDRO <span class="nt">--mr</span> &lt;tag_name&gt; PicoDRO
  <span class="c"># cd to project and update Zephyr modules</span>
  <span class="nb">cd </span>PicoDRO
  west update
</code></pre></div></div><p><strong>*</strong> Please don’t forget to comment the <code class="language-plaintext highlighter-rouge">terminal.integrated.env</code> settings in <code class="language-plaintext highlighter-rouge">.vscode/settings.json</code>.</p></li><li><p><strong>Initialization as a freestanding application</strong></p><p><strong>1.</strong> Navigate to Zephyr RTOS source code directory.</p><table class="table table-striped"><thead><tr><th style="text-align: left">Linux or macOS</th><th>Windows</th></tr></thead><tbody><tr><td style="text-align: left"><code class="language-plaintext highlighter-rouge">cd ~/zephyrproject</code></td><td><code class="language-plaintext highlighter-rouge">cd %USERPROFILE%/zephyrproject</code></td></tr></tbody></table><p><strong>2.</strong> For this project, we will be using Zephyr v3.2.0, so we need to switch <code class="language-plaintext highlighter-rouge">zephyrproject/zephyr</code> to it. Or if you don’t want to change your <code class="language-plaintext highlighter-rouge">zephyrproject</code> then go to step 3.</p><div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="c"># switch to zephyr v3.2.0</span>
  git <span class="nt">-C</span> zephyr checkout tags/v3.2.0
  <span class="c"># update Zephyr modules</span>
  west update
</code></pre></div></div><p><strong>3.</strong> If you already ran the commands in step 2, jump to step 4. Rename the current <code class="language-plaintext highlighter-rouge">zephyrproject</code> and get Zephyr v3.2.0, as shown below.</p><ul><li><p>Linux or macOS</p><div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># rename the current zephyrproject directory</span>
move ~/zephyrproject ~/zephyrproject_old
<span class="c"># initialize</span>
west init <span class="nt">--mr</span> v3.2.0 ~/zephyrproject
<span class="c"># cd to project and update Zephyr modules</span>
<span class="nb">cd</span> ~/zephyrproject
west update
</code></pre></div></div></li><li><p>Windows</p><div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># rename the current zephyrproject directory</span>
move %USERPROFILE%/zephyrproject %USERPROFILE%/zephyrproject_old
<span class="c"># initialize</span>
west init <span class="nt">--mr</span> v3.2.0 %USERPROFILE%/zephyrproject
<span class="c"># cd to project and update Zephyr modules</span>
<span class="nb">cd</span> %USERPROFILE%/zephyrproject
west update
</code></pre></div></div></li></ul><p><strong>4.</strong> Clone the repository as shown below, or download the desired tag from the <a href="https://github.com/MrGreensWorkshop/ZephyrOS_RasPiPico_PicoDRO/releases">release page</a>.</p><div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  git clone <span class="nt">-b</span> &lt;tag_name&gt; https://github.com/MrGreensWorkshop/ZephyrOS_RasPiPico_PicoDRO.git
</code></pre></div></div><p><strong>*</strong> Please don’t forget to uncomment the <code class="language-plaintext highlighter-rouge">terminal.integrated.env</code> settings in <code class="language-plaintext highlighter-rouge">.vscode/settings.json</code> as mentioned in the build process below.</p></li></ul><h3 id="build-process">Build process</h3><h4 id="1-setting-up-environment-variables">1. Setting up environment variables</h4><ul><li><p><strong>Workspace application</strong></p><ul><li><p><strong>Using VS Code</strong></p><ul><li>No action is required.</li><li>If you are not planing to use debugging you can delete the <code class="language-plaintext highlighter-rouge">.vscode</code> directory at all.</li></ul></li><li><p><strong>Using the Shell or Command Prompt</strong></p><ul><li>No action is required.</li></ul></li></ul></li><li><p><strong>Freestanding application</strong></p><ul><li><p><strong>Using VS Code</strong></p><ul><li>Open the <code class="language-plaintext highlighter-rouge">.vscode/settings.json</code> file and uncomment <code class="language-plaintext highlighter-rouge">terminal.integrated.env</code> settings.</li><li>Reopen the project directory in VS Code after making any modifications to the <code class="language-plaintext highlighter-rouge">.vscode/settings.json</code> file.</li><li>Please don’t forget to reopen the project directory in VS Code after changing tags. Since environment variables may differ between tags.</li></ul></li><li><p><strong>Using the Shell or Command Prompt</strong></p><p>Please make sure to set environment variables using the following command when using Shell or Command Prompt (not PowerShell).</p><table class="table table-striped"><thead><tr><th style="text-align: left">Linux or macOS</th><th>Windows</th></tr></thead><tbody><tr><td style="text-align: left"><code class="language-plaintext highlighter-rouge">source ~/zephyrproject/zephyr/zephyr-env.sh</code></td><td><code class="language-plaintext highlighter-rouge">%USERPROFILE%/zephyrproject/zephyr/zephyr-env.cmd</code></td></tr></tbody></table></li></ul></li></ul><h4 id="2-building">2. Building</h4><p>Some tags may have different build commands. Please refer to the readme file on the <a href="https://github.com/MrGreensWorkshop/ZephyrOS_RasPiPico_PicoDRO">project repo</a> for each tag for build commands.</p><h3 id="running">Running</h3><p><strong>1.</strong> Put the Raspberry Pi Pico into bootloader mode by pushing the bootsel button while plugging it into your computer. Or you can use PicoProbe to write the binary. For more about that, check out <a href="#debugging">Debugging</a>.</p><p><strong>2.</strong> Copy the <code class="language-plaintext highlighter-rouge">build/zephyr/zephyr.uf2</code> file to the Raspberry Pi Pico either by dragging and dropping or using the <code class="language-plaintext highlighter-rouge">cp</code> command as shown below.</p><table class="table table-striped"><thead><tr><th style="text-align: left">Linux</th><th>macOS</th></tr></thead><tbody><tr><td style="text-align: left"><code class="language-plaintext highlighter-rouge">cp build/zephyr/zephyr.uf2 /media/&lt;user&gt;/RPI-RP2</code></td><td><code class="language-plaintext highlighter-rouge">cp build/zephyr/zephyr.uf2 /Volumes/RPI-RP2</code></td></tr></tbody></table><p><strong>3.</strong> <strong>Getting Console Output</strong></p><p>Please make sure to build with the desired configuration (USB or UART). USB configuration available with and after tag v1.1.0.</p><ul><li><p><strong>Using Raspberry Pi Pico USB CDC ACM (built with USB configuration)</strong></p><p>Please connect to your PC via USB.</p></li><li><p><strong>Using UART0 over USB serial adapter (built with UART configuration)</strong></p><p>Please connect its UART0 to your PC via the USB serial adapter.</p><table class="table table-striped"><thead><tr><th style="text-align: left">Pin</th><th>Function</th><th>USB / Serial converter</th></tr></thead><tbody><tr><td style="text-align: left">1</td><td>UART0 TX</td><td>RX</td></tr><tr><td style="text-align: left">2</td><td>UART0 RX</td><td>TX</td></tr><tr><td style="text-align: left">3</td><td>GND</td><td>GND</td></tr></tbody></table></li><li><p><strong>Using PicoProbe as USB serial adapter</strong></p><p>When you are using PicoProbe just as a USB serial adapter, you don’t need to install anything on your PC.</p><p>Connect your target Raspberry Pi Pico to PicoProbe. As shown in the <a href="2022-06-10-raspberry-pi-pico-zephyr-os-part-2#final-schematic">schematic diagram</a>, connect three Serial I/F pins. Please make sure DTR is turned on. Otherwise, you will not get serial output.</p></li><li><p><strong>Final step</strong></p><p>Open your favorite serial terminal app and set the baud rate to 115200, then open the corresponding serial port.</p></li></ul><h3 id="debugging">Debugging</h3><p>For more about debugging on Zephyr RTOS using PicoProbe, please watch <a href="https://youtu.be/t-t-boemUZE">this video</a>. You can also check <a href="2022-06-10-raspberry-pi-pico-zephyr-os-part-2">this blog post</a> for the circuit diagram and how to guide.</p><p><strong>1.</strong> Connect your target Raspberry Pi Pico to PicoProbe. As shown in the <a href="2022-06-10-raspberry-pi-pico-zephyr-os-part-2#final-schematic">schematic diagram</a>, connect three pins each for SWD I/F and Serial I/F pins.</p><p><strong>2.</strong> For debugging set the <code class="language-plaintext highlighter-rouge">svdFile</code> on <code class="language-plaintext highlighter-rouge">.vscode/launch.json</code> file based on your project configuration (freestanding app or workspace app).</p><h3 id="you-can-support-my-work">You Can Support My Work</h3><p>Creating projects like this takes a great amount of time. Much appreciated if you consider supporting me so that I can continue projects like this and creating new contents for everyone.</p><p>You might consider supporting me via GitHub Sponsors, Patreon, or Ko-fi. For links, please see the <a href="/tabs/about.html">About page</a>.</p><h3 id="credits">Credits</h3><p>I’d like to thank all project(s) that gave me an opportunity to make this project possible.</p><ul><li><a href="https://github.com/zephyrproject-rtos/zephyr">Zephyr Project</a> is a scalable real-time operating system (RTOS) supporting multiple hardware architectures, optimized for resource constrained devices, and built with security in mind.</li></ul><h3 id="final-words">Final words</h3><p>You can access the dedicated repository through <a href="https://github.com/MrGreensWorkshop/ZephyrOS_RasPiPico_PicoDRO">this link</a>.</p><p>Tell me what you think in the comments.</p><p>To be continued…</p><hr><div class="share-holder"> <span class="share-label">Share on: </span><ul class="share-buttons"><li> <a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fwww.mrgreensworkshop.com%2Fposts%2F2023-03-24-raspberry-pi-pico-zephyr-rtos-picodro&amp;text=Zephyr%20RTOS%20Real%20Application%20Tutorial%20series%20-%20Mr.%20Green&#39;s%20Workshop" aria-label="Twitter" role="button" target="_blank" rel="noopener noreferrer" data-toggle="tooltip" data-placement="top" title="Twitter" class="hover-effect-big"> <i class="fa fa-twitter-square fa-fw" aria-hidden="true"></i> </a></li><li> <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fwww.mrgreensworkshop.com%2Fposts%2F2023-03-24-raspberry-pi-pico-zephyr-rtos-picodro" aria-label="Facebook" role="button" target="_blank" rel="noopener noreferrer" data-toggle="tooltip" data-placement="top" title="Facebook" class="hover-effect-big"> <i class="fa fa-facebook-square fa-fw" aria-hidden="true"></i> </a></li><li> <a href="https://t.me/share/url?url=https%3A%2F%2Fwww.mrgreensworkshop.com%2Fposts%2F2023-03-24-raspberry-pi-pico-zephyr-rtos-picodro&amp;text=Zephyr%20RTOS%20Real%20Application%20Tutorial%20series%20-%20Mr.%20Green&#39;s%20Workshop" aria-label="Telegram" role="button" target="_blank" rel="noopener noreferrer" data-toggle="tooltip" data-placement="top" title="Telegram" class="hover-effect-big"> <i class="fa fa-telegram fa-fw" aria-hidden="true"></i> </a></li><li> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fwww.mrgreensworkshop.com%2Fposts%2F2023-03-24-raspberry-pi-pico-zephyr-rtos-picodro" aria-label="LinkedIn" role="button" target="_blank" rel="noopener noreferrer" data-toggle="tooltip" data-placement="top" title="LinkedIn" class="hover-effect-big"> <i class="fa fa-linkedin-square fa-fw" aria-hidden="true"></i> </a></li><li> <a href="mailto:?subject=Zephyr%20RTOS%20Real%20Application%20Tutorial%20series%20-%20Mr.%20Green&#39;s%20Workshop&amp;body=Zephyr%20RTOS%20Real%20Application%20Tutorial%20series%20-%20Mr.%20Green&#39;s%20Workshop%20https%3A%2F%2Fwww.mrgreensworkshop.com%2Fposts%2F2023-03-24-raspberry-pi-pico-zephyr-rtos-picodro" aria-label="Email" role="button" target="_blank" rel="noopener noreferrer" data-toggle="tooltip" data-placement="top" title="Email" class="hover-effect-big"> <i class="fa fa-envelope fa-fw" aria-hidden="true"></i> </a></li><li> <a href="javascript:void(0);" aria-label="Copy link" role="button" onclick="copyToClipboard('https://www.mrgreensworkshop.com/posts/2023-03-24-raspberry-pi-pico-zephyr-rtos-picodro', 'Link copied!')" id="copytoclipboard" data-toggle="tooltip" data-placement="top" title="Copy link" class="hover-effect-big"> <i class="fa fa-link fa-fw" aria-hidden="true"></i> </a></li></ul></div></div></div><div class="pagination_wrapper"><nav aria-label="Page navigation"><ul class="pagination" style="opacity:0"><li><a href="javascript:void(0);" role="button">1</a></li></ul></nav></div><div id="comment_thread"><div id="giscus_thread"></div></div><noscript> Please enable JavaScript to view the Comments. </noscript></div><div class="footer-wrapper"><div class="footer-container"><footer translate="no"><div class="footer-text footer-text-centered long-copyright"><p>&copy; 2022 Mr. Green's Workshop. All rights reserved.</p></div><p class="footer-powered"><span>Pwrd by </span><a href="https://github.com/MrGreensWorkshop/MrGreen-JekyllTheme" target="_blank" rel="noopener noreferrer">Mr. Green</a></p></footer></div></div><div class="scroll-to-top-container"> <a id="scroll-to-top" href="#main-wrapper" role="button" aria-label="Back to top" class="hover-effect"><i class="fa fa-angle-up"></i></a></div></div><div class="searchbox-container"> <form id="searchbox-form" autocomplete="off"> <input type="search" id="search-box" placeholder="Search" onkeyup="if(this.value!==''){document.getElementById('search-results').style.display = 'block';}" onfocusout="this.value='';" onblur="setTimeout(function(){ document.getElementById('search-results').style.display = 'none'; }, 100);"><ul id="search-results" ></ul></form></div><script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v0.4.1/dist/bootstrap-toc.min.js"></script> <script src="/assets/js/main.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/jquery.magnific-popup.min.js"></script> <script> $('.imgViewer[data-no-image-viewer]').css("cursor", "unset"); $(function () { $('.imgViewer:not([data-no-image-viewer])').magnificPopup({ type: 'image' ,image: { titleSrc: 'alt' /* Error message */ ,tError: "The image could not be loaded.<br><br>%url%" /* Set to null to disable zoom out cursor. */ /*,cursor: null */ } ,closeOnContentClick: true ,showCloseBtn: false ,zoom: { /* By default it's false, so don't forget to enable it */ enabled: true /* duration of the effect, in milliseconds */ ,duration: 300 /* CSS transition easing function */ ,easing: 'ease-in-out' } }); }); </script><script src="https://cdnjs.cloudflare.com/ajax/libs/lozad.js/1.16.0/lozad.min.js"></script> <script> /* lazy loads elements with default selector as '.lozad' */ const observer = lozad(); observer.observe(); </script> <script> PagerPageNumbers.setProperties({ paginatorListContainerName: ".pagination_wrapper .pagination" ,pageList: ["/posts/2023-03-24-raspberry-pi-pico-zephyr-rtos-picodro", "/posts/2023-02-16-raspberry-pi-pico-w-bluetooth-classic-spp", "/posts/2022-06-10-raspberry-pi-pico-zephyr-os-part-2", "/posts/2022-05-29-diy-3d-printer-part-2", "/posts/2022-05-29-diy-3d-printer-part-1", "/posts/2022-03-03-mr-green-jekyll-theme"] ,firstButtonName: "First" ,lastButtonName: "Last" ,prevButtonName: "«" ,nextButtonName: "»" }); </script> <script src="/assets/js/simple-jekyll-search-1.9.2.min.js"></script><script> function loadSearch(jsonData, searchParam) { if (!jsonData) jsonData = '/query/search.json'; var searchInput = document.getElementById('search-box'); const simpleJekyllSearch = SimpleJekyllSearch({ searchInput: searchInput ,resultsContainer: document.getElementById('search-results') ,json: jsonData ,searchResultTemplate: '<li> <a href="{url}"><div><div class="title">{title}</div><div class="date">{date}</div><div style="clear: both;"></div></div></a></li>' ,noResultsText: '<li>No results were found.</li>' ,limit: 10 ,fuzzy: false ,formSubmit: document.getElementById('searchbox-form') }); if (searchParam) { searchInput.value = searchParam; searchInput.focus(); searchInput.disabled=false; setTimeout(function(){ simpleJekyllSearch.search(searchParam); }, 400); } } </script> <script> let giscusAttributes = { "src": "https://giscus.app/client.js", "data-repo": "MrGreensWorkshop/comments", "data-repo-id": "R_kgDOI4CvPA", "data-category": "mrgreensworkshop", "data-category-id": "DIC_kwDOI4CvPM4CUDTQ", "data-mapping": "pathname", "data-strict": "1", "data-reactions-enabled": "1", "data-emit-metadata": "0", "data-input-position": "bottom", "data-theme": giscusGetColorTheme(), "data-lang": "en", "data-loading": "lazy", "crossorigin": "anonymous", "async": "" }; function engineLoader() { let giscusScript = document.createElement("script"); Object.entries(giscusAttributes).forEach(([key, value]) => giscusScript.setAttribute(key, value)); document.getElementById("giscus_thread").appendChild(giscusScript); } /* set giscus theme, when data-color-scheme changes. (dark, light) */ function giscusGetColorTheme() { let theme = "light_protanopia"; if (document.body.dataset.colorScheme == "light") { theme = "light_protanopia"; } else if (document.body.dataset.colorScheme == "dark") { theme = "dark_protanopia"; } return theme; } function giscusSetColorScheme() { function giscusSetConfig(config) { const giscusIframe = document.querySelector('iframe.giscus-frame'); if (!giscusIframe) return; giscusIframe.contentWindow.postMessage({ giscus: config }, 'https://giscus.app'); } giscusSetConfig({ setConfig: { theme: giscusGetColorTheme() } }); } const color_scheme_observer = new MutationObserver(giscusSetColorScheme); color_scheme_observer.observe(document.body, {attributeFilter: ["data-color-scheme"]}); /* load when slide to the end of page */ let isMobile = false; function page_bottom_Check(event) { let wind = event.target.scrollingElement; let showBeforeEndOffset = 50; if (isMobile) { /* mobile fix */ showBeforeEndOffset += 56; } if (wind.offsetHeight + wind.scrollTop >= wind.scrollHeight - commentPageOffset - showBeforeEndOffset) { engineLoader(); document.removeEventListener('scroll', page_bottom_Check); slideToComments(); } } const commentPageOffset = document.querySelector('#comment_thread').clientHeight; document.addEventListener('scroll', page_bottom_Check); window.addEventListener("load", function() { isMobile = navigator.userAgent.toLowerCase().match(/mobile/i); let checkScroll = true; if (isMobile) { /* mobile fix */ clientHeight = document.documentElement.clientHeight + 56; } else { clientHeight = document.documentElement.clientHeight; } const scroll_enabled = document.documentElement.scrollHeight > clientHeight; if (checkScroll == true && scroll_enabled == false) { /* if no scroll bar, load at startup */ document.removeEventListener('scroll', page_bottom_Check); engineLoader(); slideToComments(); } }); /* scroll to page bottom to see comments. */ function slideToComments() { document.getElementById('comment_thread').style.minHeight = '324px'; window.scrollTo(0, document.body.scrollHeight); } </script> <script> CookieConsent.consentSettingHtml = "<div class=\"consent-settings\"><h5>Cookie settings</h5><br><p class=\"info-text\">This website uses cookies to optimize site functionality. It will be activated with your approval. Please click each item below for cookie policy.</p><table><tr><td onclick=\"$('.info[data-consent-info=necessary]').slideToggle();$(this).children('i').toggleClass('fa-plus-square-o').toggleClass('fa-minus-square-o')\"> <i class=\"fa-fw fa fa-plus-square-o\" aria-hidden=\"true\"></i><p>Strictly necessary cookies</p></td><td> <span class=\"active_text\">Always active</span></td></tr></table><div class=\"info\" data-consent-info=\"necessary\"><p>These cookies are essential for the website function and cannot be disable. They are usually set when site function like color scheme etc. is changed. These cookies do not store any personally identifiable information. Enables storage related to security such as authentication functionality, fraud prevention, and other user protection.</p></div><table><tr><td onclick=\"$('.info[data-consent-info=analytics]').slideToggle();$(this).children('i').toggleClass('fa-plus-square-o').toggleClass('fa-minus-square-o')\"> <i class=\"fa-fw fa fa-plus-square-o\" aria-hidden=\"true\"></i><p>Performance cookies</p></td><td> <span class=\"active_text\">Always active</span></td></tr></table><div class=\"info\" data-consent-info=\"analytics\"><p>Enables storage (such as cookies) related to analytics e.g. visit duration.</p></div><table><tr><td onclick=\"$('.info[data-consent-info=preferences]').slideToggle();$(this).children('i').toggleClass('fa-plus-square-o').toggleClass('fa-minus-square-o')\"> <i class=\"fa-fw fa fa-plus-square-o\" aria-hidden=\"true\"></i><p>Functionality cookies</p></td><td> <label class=\"slide-switch\"> <input type=\"checkbox\" class=\"checkbox_switch\" data-consent=\"preferences\"> <span class=\"slider\"></span> </label></td></tr></table><div class=\"info\" data-consent-info=\"preferences\"><p>Enables storage that supports the functionality of the website or app e.g. language settings. Enables storage related to personalization e.g. video recommendations.</p></div><table><tr><td onclick=\"$('.info[data-consent-info=advertising]').slideToggle();$(this).children('i').toggleClass('fa-plus-square-o').toggleClass('fa-minus-square-o')\"> <i class=\"fa-fw fa fa-plus-square-o\" aria-hidden=\"true\"></i><p>Targeting and advertising cookies</p></td><td> <label class=\"slide-switch\"> <input type=\"checkbox\" class=\"checkbox_switch\" data-consent=\"advertising\"> <span class=\"slider\"></span> </label></td></tr></table><div class=\"info\" data-consent-info=\"advertising\"><p>Enables storage (such as cookies) related to advertising.</p></div><br><div class=\"button-holder\"> <a href=\"javascript:void(0);\" class=\"btn-base btn-left\" onclick=\"CookieConsent.consentSettingDone('deny');\" role=\"button\" rel=\"nofollow\">Deny</a> <a href=\"javascript:void(0);\" class=\"btn-base btn-priority\" onclick=\"CookieConsent.consentSettingDone('accept');\" role=\"button\" rel=\"nofollow\">Allow all</a> <a href=\"javascript:void(0);\" class=\"btn-base \" onclick=\"CookieConsent.consentSettingDone('save');\" role=\"button\" rel=\"nofollow\">Allow selection</a></div></div>"; CookieConsent.consentSettingSlideType = 'slideBoxTopToDown'; CookieConsent.consentBarHtml = "<div class=\"consent-bar\"> <a class=\"close-button\" href=\"javascript:void(0);\" onclick=\"CookieConsent.hideConsentBar();\" aria-label=\"Close\" role=\"button\" rel=\"nofollow\"><i class=\"fa-fw fa fa-times\"></i></a><p>This website uses cookies to optimize site functionality. It will be activated with your approval.</p><a href=\"javascript:void(0);\" class=\"btn-base \" onclick=\"CookieConsent.consentBarDone('deny');\" role=\"button\" rel=\"nofollow\">Deny</a> <a href=\"javascript:void(0);\" class=\"btn-base \" onclick=\"CookieConsent.consentBarDone('settings');\" role=\"button\" rel=\"nofollow\">Customize</a> <a href=\"javascript:void(0);\" class=\"btn-base btn-priority\" onclick=\"CookieConsent.consentBarDone('accept');\" role=\"button\" rel=\"nofollow\">Allow all</a></div>"; CookieConsent.consent_items = JSON.parse('{"necessary":{"group":["security_storage"],"value":"granted","wait_for_update":500,"cookie_domain":"www.mrgreensworkshop.com","no_check_box":true},"analytics":{"group":["analytics_storage"],"value":"granted","no_check_box":true},"preferences":{"group":["functionality_storage","personalization_storage"],"value":"denied"},"advertising":{"group":["ad_storage"],"value":"denied"}}'); CookieConsent.hideConsentBarWithSaveButton = true; const consent_settings = CookieConsent.getConsentSettings(); const default_configs = JSON.parse('{"anonymize_ip":true,"ads_data_redaction":true,"cookie_flags":"SameSite=None;Secure"}'); </script> <script> window.dataLayer = window.dataLayer || []; function gtag() {dataLayer.push(arguments);} CookieConsent.gtag = gtag; if (Object.keys(consent_settings).length > 0) gtag("consent", "default", consent_settings); if (Object.keys(default_configs).length > 0) gtag("set", default_configs); </script><script defer src="https://www.googletagmanager.com/gtag/js?id=G-SC87NNMPP8"></script> <script> window.dataLayer = window.dataLayer || []; function gtag() {dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-SC87NNMPP8'); </script> <script> LangOfferMsgBox.currentPageLng = "en"; LangOfferMsgBox.supportedLngList = [["en","En","/","View this page in English.","To home","Language"],["ja","Jp","/ja","このページを日本語で表示する。","日本語ホームへ","言語"]]; LangOfferMsgBox.existLng = []; LangOfferMsgBox.disableExtTranslationOffer = true; LangOfferMsgBox.slideType = 'slideBoxTopToDown'; </script> <script> SlidingMsgBox.html = "<div class=\"slideBox\"> <a class=\"close-button\" href=\"javascript:void(0);\" aria-label=\"Close\" role=\"button\" rel=\"nofollow\"><i class=\"fa-fw fa fa-times\"></i></a></div>"; </script></body></html>
