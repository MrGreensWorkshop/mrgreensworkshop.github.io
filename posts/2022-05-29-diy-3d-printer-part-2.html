<!DOCTYPE html><html lang="en-US"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>3D printer DIY? or Buy? or... Part 2</title><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" media="print" onload="this.media='all'"> <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap"> </noscript><link rel="preconnect dns-prefetch" href="https://www.googletagmanager.com" crossorigin><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><meta name="google-site-verification" content="V8_OYoa-HOun0n_6OmlNBjYry1ZE9SZU1CwLv9GlD5k"><link rel="manifest" href="/assets/manifest.json"><meta name="mobile-web-app-capable" content="yes"><meta name="theme-color" content="#f0f0f0"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Mr. Green's Workshop's App"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="msapplication-TileColor" content="#2d89ef"><meta name="msapplication-starturl" content="/"><meta name="application-name" content="Mr. Green's Workshop's App"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><link rel="alternate" hreflang="ja-JP" href="https://www.mrgreensworkshop.com/ja/2022-05-29-diy-3d-printer-part-2" /><link rel="alternate" hreflang="ja" href="https://www.mrgreensworkshop.com/ja/2022-05-29-diy-3d-printer-part-2" /><link rel="canonical" href="https://www.mrgreensworkshop.com/posts/2022-05-29-diy-3d-printer-part-2" /><link rel="alternate" hreflang="x-default" href="https://www.mrgreensworkshop.com/posts/2022-05-29-diy-3d-printer-part-2" /><link rel="alternate" hreflang="en-US" href="https://www.mrgreensworkshop.com/posts/2022-05-29-diy-3d-printer-part-2" /><link rel="alternate" hreflang="en" href="https://www.mrgreensworkshop.com/posts/2022-05-29-diy-3d-printer-part-2" /><meta name="keywords" content="3D Printers, 3D Printers, DIY"><meta name="description" content="DIY 3D printer budget and cost. Cheap 3D printers problems and fixes. 3D printer parts. Machining the 3D printer parts. Upgrading 3D printers."><meta name="robots" content="index, follow"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="3D printer DIY? or Buy? or... Part 2"><meta name="twitter:site" content="@MrGreenWorkshop"><meta name="twitter:description" content="DIY 3D printer budget and cost. Cheap 3D printers problems and fixes. 3D printer parts. Machining the 3D printer parts. Upgrading 3D printers."><meta name="twitter:image" content="https://www.mrgreensworkshop.com/assets/img/posts/id_diy_3d_printer_part1/mainen.jpg"><meta property="og:site_name" content="Mr. Green's Workshop"><meta property="og:type" content="article"><meta property="og:title" content="3D printer DIY? or Buy? or... Part 2"><meta property="og:description" content="DIY 3D printer budget and cost. Cheap 3D printers problems and fixes. 3D printer parts. Machining the 3D printer parts. Upgrading 3D printers."><meta property="og:url" content="https://www.mrgreensworkshop.com/posts/2022-05-29-diy-3d-printer-part-2"><meta property="og:image" content="https://www.mrgreensworkshop.com/assets/img/posts/id_diy_3d_printer_part1/mainen.jpg"><meta property="og:locale:alternate" content="ja_JP"><meta property="og:locale" content="en_US" ><meta property="article:author" content="Mr. Green's Workshop"><meta property="article:section" content="3D Printers"><meta property="article:tag" content="3D Printers"><meta property="article:tag" content="DIY"> <script type="application/ld+json">{ "@context": "https://schema.org" ,"@graph": [ { "@type": "Person" ,"@id": "https://www.mrgreensworkshop.com/#person" ,"name": "Mr. Green's Workshop" ,"url": "https://www.mrgreensworkshop.com/tabs/about.html" ,"image": "https://www.mrgreensworkshop.com/assets/img/about/about.jpg" ,"description": "Creating Programming, Home Automation (IoT), Electronics, Microcontrollers, DIY, 3D Printers, Robots, Machining / CNC, Servers related projects." },{ "@type": "WebSite" ,"@id": "https://www.mrgreensworkshop.com/#website" ,"url": "https://www.mrgreensworkshop.com/" ,"name": "Mr. Green's Workshop" ,"description": "Creating Programming, Home Automation (IoT), Electronics, Microcontrollers, DIY, 3D Printers, Robots, Machining / CNC, Servers related projects." ,"publisher": {"@id": "https://www.mrgreensworkshop.com/#person"} ,"inLanguage": "en-US" ,"sameAs": ["https://www.youtube.com/@MrGreensWorkshop","https://twitter.com/MrGreenWorkshop","https://mastodon.social/@MrGreensWorkshop","https://www.instagram.com/mrgreensworkshop","https://github.com/MrGreensWorkshop","https://ko-fi.com/MrGreensWorkshop","https://www.patreon.com/MrGreensWorkshop"] ,"copyrightHolder" : {"@id": "https://www.mrgreensworkshop.com/#person"} ,"copyrightYear" : "2022" },{ "@type": "WebPage" ,"@id": "https://www.mrgreensworkshop.com/posts/2022-05-29-diy-3d-printer-part-2#webpage" ,"url": "https://www.mrgreensworkshop.com/posts/2022-05-29-diy-3d-printer-part-2" ,"name": "3D printer DIY? or Buy? or... Part 2" ,"isPartOf": {"@id": "https://www.mrgreensworkshop.com/#website"} ,"breadcrumb": {"@id": "https://www.mrgreensworkshop.com/posts/2022-05-29-diy-3d-printer-part-2#breadcrumb"} ,"primaryImageOfPage": "https://www.mrgreensworkshop.com/assets/img/posts/id_diy_3d_printer_part1/mainen.jpg" ,"description": "DIY 3D printer budget and cost. Cheap 3D printers problems and fixes. 3D printer parts. Machining the 3D printer parts. Upgrading 3D printers." ,"inLanguage": "en-US" ,"potentialAction": { "@type": "ReadAction" ,"target": "https://www.mrgreensworkshop.com/posts/2022-05-29-diy-3d-printer-part-2" } },{ "@type": "BreadcrumbList", "@id": "https://www.mrgreensworkshop.com/posts/2022-05-29-diy-3d-printer-part-2#breadcrumb", "itemListElement": [ { "@type": "ListItem" ,"position": 1 ,"name": "Home" ,"item": "https://www.mrgreensworkshop.com/" }, { "@type": "ListItem" ,"position": 2 ,"name": "Blog" ,"item": "https://www.mrgreensworkshop.com/tabs/blog/" }, { "@type": "ListItem" ,"position": 3 ,"name": "3D printer DIY? or Buy? or... Part 2" } ] },{ "@type": "BlogPosting" ,"@id": "https://www.mrgreensworkshop.com/posts/2022-05-29-diy-3d-printer-part-2#content" ,"isPartOf": {"@id": "https://www.mrgreensworkshop.com/posts/2022-05-29-diy-3d-printer-part-2#webpage"} ,"mainEntityOfPage": {"@id": "https://www.mrgreensworkshop.com/posts/2022-05-29-diy-3d-printer-part-2#webpage"} ,"publisher": {"@id": "https://www.mrgreensworkshop.com/#person"} ,"author": {"@id": "https://www.mrgreensworkshop.com/#person"} ,"inLanguage": "en-US" ,"headline": "3D printer DIY? or Buy? or... Part 2" ,"image": "https://www.mrgreensworkshop.com/assets/img/posts/id_diy_3d_printer_part1/mainen.jpg" ,"thumbnailUrl": "https://www.mrgreensworkshop.com/assets/img/posts/id_diy_3d_printer_part1/mainen.jpg" ,"articleSection": ["3D Printers", "3D Printers", "DIY"] ,"description": "DIY 3D printer budget and cost. Cheap 3D printers problems and fixes. 3D printer parts. Machining the 3D printer parts. Upgrading 3D printers." ,"copyrightHolder" : {"@id": "https://www.mrgreensworkshop.com/#person"} ,"copyrightYear" : "2022" ,"wordCount": 1330 ,"articleBody": "If you haven’t read the part 1, please check it out. In this post I will talk about what problems I dealt with and how much it cost. After long search I found a 3 axis robot at an online auction. It was just 10 bucks. I had to pick it up and it took 3 hours to drive but it was worth it. I have already released a YouTube video, so please take a look. Tear down After tear down the robot, here is what I found… It has 24V 10 Amps power supply 3 stepper motors with built in encoders 3 close loop motion controllers A stepper motor mounted on the Z axis Stepper motor driver (Open loop) Optical limit switches for all 3 axises Machine specs Musashi Engineering Desktop robot ShotMaster 500DS   Stroke Resolution Max Speed X,Y 500mm 4.2μ 800mm/s Z 120mm 1μ 170mm/s I should say they made a great job. These machines shouldn’t be wasted. I know, it’s too good for 3D printer. I set a golden rule for myself which is, I will start buying the upgrade parts I mentioned in the part 1 and whenever I feel that the project will fail, I will use those upgrade parts in the new cheap 3D printer. But I should say I’m not a quitter. Tasks and problems Original controller is not usable Robot has RS232C interface and specific protocol. I was planning to change marlin firmware to send coordinates over RS232C. After digging marlin stepper pulse source code and asking about it marlin community in discord, I found that It’s not just moving each axis to desired position. Extra control pulses are used for retraction etc. I had to remove existing controller board and drive axises from 3D printer controller. Actually this made things simpler. Marlin will be full control of each axis. After digging some time I found motion controller pinouts. It uses RS422 for each direction. I made a circuit board to convert TTL direction and pulse signals to RS422 signals and connect between motion controllers and 3D printer controller. Schematic diagram looks like this. Making a direct drive extruder I used the aluminum plate came with the machine and a few heatsinks as a material. As I mentioned before we have 4th axis stepper motor, but it is too small for extruder feeder. I wanted to use the original stepper driver so I found 5 pole stepper motor at an online auction for 8 bucks. I also bought metal extruder feeder components and mounted on the stepper motor. Upgrading extruder feeder stepper driver After testing the extruder feeder stepper, it was skipping steps. I realized that the torque wasn’t enough. Checking the data sheet of driver, I found that the driver had current limit setting. Even at the maximum current setting, the torque wasn’t enough. I checked the Oriental motors catalog, they had another model for higher current. Driver model Motor rated current DFC5103P 0.35 A/phase DFC5107P 0.75 A/phase What component is used for current limiting? For sure Cement resistors. There were 2 on the driver board. When I looked for higher current model, those resistor values were different from mine, so I ordered the resistors and changed it. It worked as I expected. With this, Oriental motor DFC5103P was upgraded to DFC5107P. Putting all together After finishing extruder I mounted that to the Z axis. Since the Z axis could only move 120mm, I had to raise the base, and to do so I used a cardboard for testing. Don’t judge me ok, I couldn’t find anything better than that. The controller was ready, necessary cabling done, belt tensioning done, pid calibration done, step calibration done. Next step is printing something! First print and layer shifting problem I had to make sure I could use it as a 3D printer to continue further tasks. I printed the test cube. Here is what I got. It was really frustrating. Everything seemed right. After asking marlin community in discord, one of them pointed me the right direction and told me that someone with external motor drivers had the problem before, and advised me a few things and one of them was inverting steps, and it did the trick. #define INVERT_X_STEP true #define INVERT_Y_STEP true Upgrading the Z-axis I had to replace Z axis with something else. I can’t print on cardboard forever, right? Then I started digging online auction once again, and I found IAI single axis Robo Cylinder for 25 bucks. The original controller was incompatible with pulse drive. The settings can be changed but I didn’t have the cable nor software. I decided to use IAI Robo Cylinder mechanic with the existing Z axis motor. I removed the motor and made a coupler identical to original one. I made necessary parts to mount the extruder module to cylinder and cylinder to machine. After making motor mounting plate, I used hex spacers for mounting it. Yeah! Mounting plate hole could be cleaner, but it just does the job and the mess isn’t visible when mounted. With this, maximum print area will be 500x500x200mm. Safety feature This machine has transition board on it. I manage to add electrical emergency stop feature by jumpering and adding some components. When the machine is powered on, it starts in emergency mode. Reset button needs to be pushed to release from emergency mode and power up the motion controllers. When emergency stop button is pushed, motion controllers are power-down. Even after releasing emergency stop button, reset button needs to be pushed to start the machine cycle. It’s one of the safety measures in industry, requiring 2 actions from the user. Cable drag chain installation Finally, the cabling. I bought the cable carriers for y and Z axises and mounted it. Cabling took quite some time. It wasn’t easy, but in the end it looks good, doesn’t it? Part cooling duct After searching on the Thingiverse, I found some designs. I imported the STL files to the Tinkercad and put all things together. This is the result. Auto bed leveling You may wonder about inductive proximity sensor mounted on the Z axis. After testing it, repeatability wasn’t good enough in my setup and currently I’m not using it. Power consumption After checking the power consumption, I think this power supply is sufficient for the job. State Current Idle(EMG on) 0.638A Servo on idle 1.6A Homing max 1.6A Nozzle temp 195C 3A Nozzle set temp reached 2A Printing max 3A - Power Supply : 24V 10A (TDK LAMBDA ZWS240PAF-24) - Heater : 24V 1.66A (40W) Final costs Budget plan Option 3 DIY + junk 3 axis robot + Upgrades Junk 3 axis robot : $60 Upgrades : $160 Total cost : $220 Actual costs 3 axis robot junk $10 IAI Robo Cylinder junk $25 Hotend MK8 24V 40W $22.67 Hotend silicon cover   $1.76 Extruder MK8 $9.38 Extruder feeder stepper junk $8 Controller Bigtreetech SKR v1.3 $24.24 Touch panel Bigtreetech TFT 3.5 V3.0 $31.28 Cable drag chain   $16.97 Part cooler fan 50x50x15mm $3.87 Extuder cooler fan Noctua NF-A4x10 FLX $17.95 Signal converter pcb   $17.37 Parts on hand   $0 Total spend:   $188.49 Among the advantages I talked about in the part 1, for me being a maker, I think I was able to contribute to reducing the amount of waste from the perspective of the SDGs, which are the most important. Close-ups For other pictures such as making process, please check out my Instagram page. You can find in About page. You Can Support My Work Creating projects like this takes a great amount of time. Much appreciated if you consider supporting me so that I can continue projects like this and creating new contents for everyone. You might consider supporting me via GitHub Sponsors, Patreon, or Ko-fi. For links, please see the About page. Final words Future plans, motor cover for Z axis, box for controller panel. These are what I can think of." } ] }</script><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"><link href="/assets/css/main.css" rel="stylesheet"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v0.4.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/magnific-popup.css"><link href="/assets/css/nav-media.css" rel="stylesheet"></head><body > <script src="/assets/js/color-scheme-attr-init.js" data-mode="false"></script><nav class="navbar navbar-default top-nav"><div class="navbar-header"> <button type="button" aria-label="Side menu" class="navbar-toggle collapsed pull-left top-nav-menu-toggle" data-toggle="collapse" data-target="#id_top-nav-menu-toggle" aria-expanded="false"> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a class="navbar-brand top-nav-brand" href="/" translate="no">Mr. Green's Workshop</a></div><div class="color_scheme_switch_top_holder" data-toggle="tooltip" data-placement="bottom" title="Color scheme"> <label class="color-scheme-switch hover-effect"> <input type="checkbox" class="checkbox_color_switch" /> <span></span> </label></div></nav><nav id="side-nav-container"><div class="side-nav"><div class="side-nav-brand"> <img src="/assets/img/about/about.jpg" alt=""><div class="brand-holder"></div><p>&nbsp;</p><br><div class="lang-switch"><p>[&nbsp;</p><ul translate="no"><li lang="en-US"><a href="/posts/2022-05-29-diy-3d-printer-part-2" class=" active-page hover-effect">En&nbsp;</a></li><li lang="ja-JP"><a href="/ja/2022-05-29-diy-3d-printer-part-2" class=" hover-effect">Jp&nbsp;</a></li></ul><p>]</p></div></div><br> <a href="javascript:void(0);" class="side-nav-close" role="button" rel="nofollow"> <i class="fa fa-angle-double-left fa-2x" aria-hidden="true"></i> </a><hr> <br><div class="side-nav-buttons"><ul class="nav nav-pills nav-stacked"><li ><a href="/" class=" hover-effect"><i class="fa-fw fa fa-home" aria-hidden="true"></i>Home</a></li><li ><a href="/tabs/blog/" class="active-page hover-effect"><i class="fa-fw fa fa-pencil-square-o" aria-hidden="true"></i>Blog</a></li><li ><a href="/tabs/archive.html" class=" hover-effect"><i class="fa-fw fa fa-archive" aria-hidden="true"></i>Archive</a></li><li ><a href="/tabs/about.html" class=" hover-effect"><i class="fa-fw fa fa-user-o" aria-hidden="true"></i>About</a></li></ul></div><br> <br><div class="contact-container"><hr><h3>Contact</h3><ul><li><a href="https://www.youtube.com/@MrGreensWorkshop" aria-label="youtube" class="hover-effect-big" target="_blank" rel="noopener noreferrer"><i class="fa fa-youtube-play" aria-hidden="true"></i></a></li><li><a href="https://twitter.com/MrGreenWorkshop" aria-label="twitter" class="hover-effect-big" target="_blank" rel="noopener noreferrer"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a href="https://mastodon.social/@MrGreensWorkshop" aria-label="mastodon" class="hover-effect-big" target="_blank" rel="me noopener noreferrer"><img src="/assets/img/default/mastodon.svg" alt="mastodon"/></a></li><li><a href="https://www.instagram.com/mrgreensworkshop" aria-label="instagram" class="hover-effect-big" target="_blank" rel="noopener noreferrer"><i class="fa fa-instagram" aria-hidden="true"></i></a></li><li><a href="https://github.com/MrGreensWorkshop" aria-label="github" class="hover-effect-big" target="_blank" rel="noopener noreferrer"><i class="fa fa-github" aria-hidden="true"></i></a></li><li><a href="https://ko-fi.com/MrGreensWorkshop" aria-label="ko-fi" class="hover-effect-big" target="_blank" rel="noopener noreferrer"><img src="/assets/img/default/kofi.svg" alt="ko-fi"/></a></li><li><a href="https://www.patreon.com/MrGreensWorkshop" aria-label="patreon" class="hover-effect-big" target="_blank" rel="noopener noreferrer"><img src="/assets/img/default/patreon.svg" alt="patreon"/></a></li></ul></div><hr id="toc-view-top"><div class="side-nav-footer" translate="no"><p>&copy; 2022 Mr. Green's Workshop.</p></div></div><div class="side-nav-bottom-buttons-container"><hr><ul><li><div class="color_scheme_switch_side_holder" data-toggle="tooltip" data-placement="top" title="Color scheme"> <label class="color-scheme-switch hover-effect"> <input type="checkbox" class="checkbox_color_switch" /> <span></span> </label></div></li><li><div class="cookie-icon hover-effect" onclick="CookieConsent.showSettings();" data-toggle="tooltip" data-placement="top" title="Cookie settings"><div class="cookie-wrapper"> <i class="fa fa-circle bitten-cookie" aria-hidden="true"></i> <i class="fa fa-circle small-ellipse-icon" aria-hidden="true"></i> <i class="fa fa-spinner inner-icon" aria-hidden="true"></i> <i class="fa fa-circle-thin outer-icon" aria-hidden="true"></i></div></div></li></ul></div></nav><div id="toc-container" class="movable"><div class="panel panel-default"><div class="panel-heading" data-toggle="tooltip" data-placement="top" title="Drag to move"> Contents <span class="pull-right"> <a href="javascript:void(0);" aria-label="Close" role="button" rel="nofollow" class="close-button" onclick="document.getElementById('toc-container').style.display = 'none';"> <i class="fa fa-times" data-toggle="tooltip" data-placement="bottom" title="Close"></i> </a> </span></div><div class="panel-body"><nav id="table-of-contents"></nav></div></div></div><div id="main-wrapper"><div class="main-container"><div class="multipurpose-container post-container"><div class="post-title"><h1>3D printer DIY? or Buy? or... Part 2</h1></div><div class="meta"> <small> &nbsp;<i class="fa fa-calendar"></i>&nbsp;&nbsp;May 29, 2022 </small> <small> &nbsp;&nbsp;&nbsp;<span><i class="fa fa-clock-o"></i>&nbsp;8 min read</span> </small></div><hr/><div class="markdown-style"><p><img class="lozad imgViewer mfp-zoom" data-mfp-src="/assets/img/posts/id_diy_3d_printer_part1/mainen.jpg" data-src="/assets/img/posts/id_diy_3d_printer_part1/mainen.jpg" alt="DIY 3D Printer" data-align="center" /></p><p>If you haven’t read the <a href="2022-05-29-diy-3d-printer-part-1">part 1</a>, please check it out. In this post I will talk about what problems I dealt with and how much it cost. After long search I found a 3 axis robot at an online auction. It was just 10 bucks. I had to pick it up and it took 3 hours to drive but it was worth it. I have already released a YouTube video, so please take a look.</p><div class="video-wrapper video-centered"><div class="video-container"> <iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/nkZOOK4wM28" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div></div><h3 id="tear-down">Tear down</h3><p>After tear down the robot, here is what I found…</p><p>It has 24V 10 Amps power supply</p><p><img class="lozad imgViewer mfp-zoom" data-mfp-src="/assets/img/posts/id_diy_3d_printer_part2/Shotcut_00_00_31_300_psu.jpg" data-src="/assets/img/posts/id_diy_3d_printer_part2/Shotcut_00_00_31_300_psu.jpg" alt="Power supply" data-align="center" /></p><p>3 stepper motors with built in encoders</p><p><img class="lozad imgViewer mfp-zoom" data-mfp-src="/assets/img/posts/id_diy_3d_printer_part2/Shotcut_00_00_35_500_stepper.jpg" data-src="/assets/img/posts/id_diy_3d_printer_part2/Shotcut_00_00_35_500_stepper.jpg" alt="Stepper motor + Encoder" data-align="center" /></p><p>3 close loop motion controllers</p><p><img class="lozad imgViewer mfp-zoom" data-mfp-src="/assets/img/posts/id_diy_3d_printer_part2/Shotcut_00_00_38_467_driver.jpg" data-src="/assets/img/posts/id_diy_3d_printer_part2/Shotcut_00_00_38_467_driver.jpg" alt="Closed loop motion controllers" data-align="center" /></p><p>A stepper motor mounted on the Z axis</p><p><img class="lozad imgViewer mfp-zoom" data-mfp-src="/assets/img/posts/id_diy_3d_printer_part2/Shotcut_00_00_41_700_4th_axis.jpg" data-src="/assets/img/posts/id_diy_3d_printer_part2/Shotcut_00_00_41_700_4th_axis.jpg" alt="Stepper motor" data-align="center" /></p><p>Stepper motor driver (Open loop)</p><p><img class="lozad imgViewer mfp-zoom" data-mfp-src="/assets/img/posts/id_diy_3d_printer_part2/Shotcut_00_00_44_067_4th_ax_driver.jpg" data-src="/assets/img/posts/id_diy_3d_printer_part2/Shotcut_00_00_44_067_4th_ax_driver.jpg" alt="Stepper motor driver" data-align="center" /></p><p>Optical limit switches for all 3 axises</p><p><img class="lozad imgViewer mfp-zoom" data-mfp-src="/assets/img/posts/id_diy_3d_printer_part2/Shotcut_00_00_45_667_sensor.jpg" data-src="/assets/img/posts/id_diy_3d_printer_part2/Shotcut_00_00_45_667_sensor.jpg" alt="Optical limit switch" data-align="center" /></p><h3 id="machine-specs">Machine specs</h3><p>Musashi Engineering Desktop robot ShotMaster 500DS</p><table class="table table-striped"><thead><tr><th style="text-align: left"> </th><th style="text-align: left">Stroke</th><th style="text-align: right">Resolution</th><th style="text-align: right">Max Speed</th></tr></thead><tbody><tr><td style="text-align: left">X,Y</td><td style="text-align: left">500mm</td><td style="text-align: right">4.2μ</td><td style="text-align: right">800mm/s</td></tr><tr><td style="text-align: left">Z</td><td style="text-align: left">120mm</td><td style="text-align: right">1μ</td><td style="text-align: right">170mm/s</td></tr></tbody></table><p>I should say they made a great job. These machines shouldn’t be wasted. I know, it’s too good for 3D printer. I set a golden rule for myself which is, I will start buying the upgrade parts I mentioned in the <a href="2022-05-29-id_diy_3d_printer_part1">part 1</a> and whenever I feel that the project will fail, I will use those upgrade parts in the new cheap 3D printer. But I should say I’m not a quitter.</p><h3 id="tasks-and-problems">Tasks and problems</h3><h4 id="original-controller-is-not-usable">Original controller is not usable</h4><p>Robot has RS232C interface and specific protocol.</p><p><img class="lozad imgViewer mfp-zoom" data-mfp-src="/assets/img/posts/id_diy_3d_printer_part2/Shotcut_00_01_22_667_rs232.jpg" data-src="/assets/img/posts/id_diy_3d_printer_part2/Shotcut_00_01_22_667_rs232.jpg" alt="RS232C interface" data-align="center" /></p><p>I was planning to change marlin firmware to send coordinates over RS232C. After digging marlin stepper pulse source code and asking about it marlin community in discord, I found that It’s not just moving each axis to desired position. Extra control pulses are used for retraction etc. I had to remove existing controller board and drive axises from 3D printer controller. Actually this made things simpler. Marlin will be full control of each axis. After digging some time I found motion controller pinouts.</p><p><img class="lozad imgViewer mfp-zoom" data-mfp-src="/assets/img/posts/id_diy_3d_printer_part2/Shotcut_00_02_05_100_xyz_driver.jpg" data-src="/assets/img/posts/id_diy_3d_printer_part2/Shotcut_00_02_05_100_xyz_driver.jpg" alt="motion controller" data-align="center" /></p><p>It uses RS422 for each direction. I made a circuit board to convert TTL direction and pulse signals to RS422 signals and connect between motion controllers and 3D printer controller. Schematic diagram looks like this.</p><p><img class="lozad imgViewer mfp-zoom" data-mfp-src="/assets/img/posts/id_diy_3d_printer_part2/Shotcut_00_02_11_033_schematic.jpg" data-src="/assets/img/posts/id_diy_3d_printer_part2/Shotcut_00_02_11_033_schematic.jpg" alt="Schematic diagram" data-align="center" /></p><p><img class="lozad imgViewer mfp-zoom" data-mfp-src="/assets/img/posts/id_diy_3d_printer_part2/Shotcut_00_02_17_233_circuit.jpg" data-src="/assets/img/posts/id_diy_3d_printer_part2/Shotcut_00_02_17_233_circuit.jpg" alt="Circuit" data-align="center" /></p><h4 id="making-a-direct-drive-extruder">Making a direct drive extruder</h4><p>I used the aluminum plate came with the machine and a few heatsinks as a material.</p><p><img class="lozad imgViewer mfp-zoom" data-mfp-src="/assets/img/posts/id_diy_3d_printer_part2/Shotcut_00_02_28_700_extruder.jpg" data-src="/assets/img/posts/id_diy_3d_printer_part2/Shotcut_00_02_28_700_extruder.jpg" alt="Direct drive extruder" data-align="center" /></p><p>As I mentioned before we have 4th axis stepper motor, but it is too small for extruder feeder. I wanted to use the original stepper driver so I found 5 pole stepper motor at an online auction for 8 bucks. I also bought metal extruder feeder components and mounted on the stepper motor.</p><h4 id="upgrading-extruder-feeder-stepper-driver">Upgrading extruder feeder stepper driver</h4><p>After testing the extruder feeder stepper, it was skipping steps. I realized that the torque wasn’t enough. Checking the data sheet of driver, I found that the driver had current limit setting. Even at the maximum current setting, the torque wasn’t enough. I checked the Oriental motors catalog, they had another model for higher current.</p><table class="table table-striped"><thead><tr><th style="text-align: left">Driver model</th><th style="text-align: center">Motor rated current</th></tr></thead><tbody><tr><td style="text-align: left">DFC5103P</td><td style="text-align: center">0.35 A/phase</td></tr><tr><td style="text-align: left">DFC5107P</td><td style="text-align: center">0.75 A/phase</td></tr></tbody></table><p>What component is used for current limiting? For sure Cement resistors. There were 2 on the driver board.</p><p><img class="lozad imgViewer mfp-zoom" data-mfp-src="/assets/img/posts/id_diy_3d_printer_part2/Shotcut_00_03_24_433_4th_driver.jpg" data-src="/assets/img/posts/id_diy_3d_printer_part2/Shotcut_00_03_24_433_4th_driver.jpg" alt="Extruder feeder stepper driver" data-align="center" /></p><p>When I looked for higher current model, those resistor values were different from mine, so I ordered the resistors and changed it. It worked as I expected. With this, Oriental motor DFC5103P was upgraded to DFC5107P.</p><h4 id="putting-all-together">Putting all together</h4><p>After finishing extruder I mounted that to the Z axis. Since the Z axis could only move 120mm, I had to raise the base, and to do so I used a cardboard for testing. Don’t judge me ok, I couldn’t find anything better than that.</p><p><img class="lozad imgViewer mfp-zoom" data-mfp-src="/assets/img/posts/id_diy_3d_printer_part2/Shotcut_00_03_29_433_box.jpg" data-src="/assets/img/posts/id_diy_3d_printer_part2/Shotcut_00_03_29_433_box.jpg" alt="Printing on a box" data-align="center" /></p><p>The controller was ready, necessary cabling done, belt tensioning done, pid calibration done, step calibration done. Next step is printing something!</p><h4 id="first-print-and-layer-shifting-problem">First print and layer shifting problem</h4><p>I had to make sure I could use it as a 3D printer to continue further tasks. I printed the test cube. Here is what I got.</p><p><img class="lozad imgViewer mfp-zoom" data-mfp-src="/assets/img/posts/id_diy_3d_printer_part2/Shotcut_00_04_17_733_first_print.jpg" data-src="/assets/img/posts/id_diy_3d_printer_part2/Shotcut_00_04_17_733_first_print.jpg" alt="First print" data-align="center" /></p><p>It was really frustrating. Everything seemed right. After asking marlin community in discord, one of them pointed me the right direction and told me that someone with external motor drivers had the problem before, and advised me a few things and one of them was inverting steps, and it did the trick.</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#define INVERT_X_STEP true
#define INVERT_Y_STEP true
</code></pre></div></div><h4 id="upgrading-the-z-axis">Upgrading the Z-axis</h4><p>I had to replace Z axis with something else. I can’t print on cardboard forever, right? Then I started digging online auction once again, and I found IAI single axis Robo Cylinder for 25 bucks. The original controller was incompatible with pulse drive. The settings can be changed but I didn’t have the cable nor software. I decided to use IAI Robo Cylinder mechanic with the existing Z axis motor. I removed the motor and made a coupler identical to original one.</p><p><img class="lozad imgViewer mfp-zoom" data-mfp-src="/assets/img/posts/id_diy_3d_printer_part2/Shotcut_00_05_15_367_coupler.jpg" data-src="/assets/img/posts/id_diy_3d_printer_part2/Shotcut_00_05_15_367_coupler.jpg" alt="Coupler" data-align="center" /></p><p>I made necessary parts to mount the extruder module to cylinder and cylinder to machine. After making motor mounting plate, I used hex spacers for mounting it.</p><p><img class="lozad imgViewer mfp-zoom" data-mfp-src="/assets/img/posts/id_diy_3d_printer_part2/Shotcut_00_05_18_733_parts.jpg" data-src="/assets/img/posts/id_diy_3d_printer_part2/Shotcut_00_05_18_733_parts.jpg" alt="Handmade parts" data-align="center" /></p><p>Yeah! Mounting plate hole could be cleaner, but it just does the job and the mess isn’t visible when mounted. With this, maximum print area will be 500x500x200mm.</p><h4 id="safety-feature">Safety feature</h4><p>This machine has transition board on it. I manage to add electrical emergency stop feature by jumpering and adding some components. When the machine is powered on, it starts in emergency mode. Reset button needs to be pushed to release from emergency mode and power up the motion controllers. When emergency stop button is pushed, motion controllers are power-down. Even after releasing emergency stop button, reset button needs to be pushed to start the machine cycle. It’s one of the safety measures in industry, requiring 2 actions from the user.</p><h4 id="cable-drag-chain-installation">Cable drag chain installation</h4><p>Finally, the cabling. I bought the cable carriers for y and Z axises and mounted it. Cabling took quite some time. It wasn’t easy, but in the end it looks good, doesn’t it?</p><p><img class="lozad imgViewer mfp-zoom" data-mfp-src="/assets/img/posts/id_diy_3d_printer_part2/Shotcut_00_06_38_233_cabling_done.jpg" data-src="/assets/img/posts/id_diy_3d_printer_part2/Shotcut_00_06_38_233_cabling_done.jpg" alt="After cabling" data-align="center" /></p><h4 id="part-cooling-duct">Part cooling duct</h4><p>After searching on the Thingiverse, I found some designs. I imported the STL files to the Tinkercad and put all things together. This is the result.</p><p><img class="lozad imgViewer mfp-zoom" data-mfp-src="/assets/img/posts/id_diy_3d_printer_part2/Shotcut_00_06_48_500_duct.jpg" data-src="/assets/img/posts/id_diy_3d_printer_part2/Shotcut_00_06_48_500_duct.jpg" alt="Part cooling duct" data-align="center" /></p><h4 id="auto-bed-leveling">Auto bed leveling</h4><p>You may wonder about inductive proximity sensor mounted on the Z axis. After testing it, repeatability wasn’t good enough in my setup and currently I’m not using it.</p><h3 id="power-consumption">Power consumption</h3><p>After checking the power consumption, I think this power supply is sufficient for the job.</p><table class="table table-striped"><thead><tr><th style="text-align: left">State</th><th style="text-align: left">Current</th></tr></thead><tbody><tr><td style="text-align: left">Idle(EMG on)</td><td style="text-align: left">0.638A</td></tr><tr><td style="text-align: left">Servo on idle</td><td style="text-align: left">1.6A</td></tr><tr><td style="text-align: left">Homing max</td><td style="text-align: left">1.6A</td></tr><tr><td style="text-align: left">Nozzle temp 195C</td><td style="text-align: left">3A</td></tr><tr><td style="text-align: left">Nozzle set temp reached</td><td style="text-align: left">2A</td></tr><tr><td style="text-align: left">Printing max</td><td style="text-align: left">3A</td></tr></tbody></table><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- Power Supply : 24V 10A (TDK LAMBDA ZWS240PAF-24)
- Heater       : 24V 1.66A (40W)
</code></pre></div></div><h3 id="final-costs">Final costs</h3><p><strong>Budget plan</strong></p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Option 3  DIY + junk 3 axis robot + Upgrades

Junk 3 axis robot    : $60
Upgrades             : $160
Total cost           : $220
</code></pre></div></div><p><strong>Actual costs</strong></p><table class="table table-striped"><tbody><tr><td>3 axis robot</td><td>junk</td><td>$10</td></tr><tr><td>IAI Robo Cylinder</td><td>junk</td><td>$25</td></tr><tr><td>Hotend</td><td>MK8 24V 40W</td><td>$22.67</td></tr><tr><td>Hotend silicon cover</td><td> </td><td>$1.76</td></tr><tr><td>Extruder</td><td>MK8</td><td>$9.38</td></tr><tr><td>Extruder feeder stepper</td><td>junk</td><td>$8</td></tr><tr><td>Controller</td><td>Bigtreetech SKR v1.3</td><td>$24.24</td></tr><tr><td>Touch panel</td><td>Bigtreetech TFT 3.5 V3.0</td><td>$31.28</td></tr><tr><td>Cable drag chain</td><td> </td><td>$16.97</td></tr><tr><td>Part cooler fan</td><td>50x50x15mm</td><td>$3.87</td></tr><tr><td>Extuder cooler fan</td><td>Noctua NF-A4x10 FLX</td><td>$17.95</td></tr><tr><td>Signal converter pcb</td><td> </td><td>$17.37</td></tr><tr><td>Parts on hand</td><td> </td><td>$0</td></tr><tr><td><strong>Total spend:</strong></td><td> </td><td><strong>$188.49</strong></td></tr></tbody></table><p>Among the advantages I talked about in the <a href="2022-05-29-diy-3d-printer-part-1">part 1</a>, for me being a maker, I think I was able to contribute to reducing the amount of waste from the perspective of the SDGs, which are the most important.</p><h3 id="close-ups">Close-ups</h3><p>For other pictures such as making process, please check out my Instagram page. You can find in <a href="/tabs/about.html">About page</a>.</p><h3 id="you-can-support-my-work">You Can Support My Work</h3><p>Creating projects like this takes a great amount of time. Much appreciated if you consider supporting me so that I can continue projects like this and creating new contents for everyone.</p><p>You might consider supporting me via GitHub Sponsors, Patreon, or Ko-fi. For links, please see the <a href="/tabs/about.html">About page</a>.</p><h3 id="final-words">Final words</h3><p>Future plans, motor cover for Z axis, box for controller panel. These are what I can think of.</p><hr><div class="share-holder"> <span class="share-label">Share on: </span><ul class="share-buttons"><li> <a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fwww.mrgreensworkshop.com%2Fposts%2F2022-05-29-diy-3d-printer-part-2&amp;text=3D%20printer%20DIY?%20or%20Buy?%20or...%20Part%202%20-%20Mr.%20Green&#39;s%20Workshop" aria-label="Twitter" role="button" target="_blank" rel="noopener noreferrer" data-toggle="tooltip" data-placement="top" title="Twitter" class="hover-effect-big"> <i class="fa fa-twitter-square fa-fw" aria-hidden="true"></i> </a></li><li> <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fwww.mrgreensworkshop.com%2Fposts%2F2022-05-29-diy-3d-printer-part-2" aria-label="Facebook" role="button" target="_blank" rel="noopener noreferrer" data-toggle="tooltip" data-placement="top" title="Facebook" class="hover-effect-big"> <i class="fa fa-facebook-square fa-fw" aria-hidden="true"></i> </a></li><li> <a href="https://t.me/share/url?url=https%3A%2F%2Fwww.mrgreensworkshop.com%2Fposts%2F2022-05-29-diy-3d-printer-part-2&amp;text=3D%20printer%20DIY?%20or%20Buy?%20or...%20Part%202%20-%20Mr.%20Green&#39;s%20Workshop" aria-label="Telegram" role="button" target="_blank" rel="noopener noreferrer" data-toggle="tooltip" data-placement="top" title="Telegram" class="hover-effect-big"> <i class="fa fa-telegram fa-fw" aria-hidden="true"></i> </a></li><li> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fwww.mrgreensworkshop.com%2Fposts%2F2022-05-29-diy-3d-printer-part-2" aria-label="LinkedIn" role="button" target="_blank" rel="noopener noreferrer" data-toggle="tooltip" data-placement="top" title="LinkedIn" class="hover-effect-big"> <i class="fa fa-linkedin-square fa-fw" aria-hidden="true"></i> </a></li><li> <a href="mailto:?subject=3D%20printer%20DIY?%20or%20Buy?%20or...%20Part%202%20-%20Mr.%20Green&#39;s%20Workshop&amp;body=3D%20printer%20DIY?%20or%20Buy?%20or...%20Part%202%20-%20Mr.%20Green&#39;s%20Workshop%20https%3A%2F%2Fwww.mrgreensworkshop.com%2Fposts%2F2022-05-29-diy-3d-printer-part-2" aria-label="Email" role="button" target="_blank" rel="noopener noreferrer" data-toggle="tooltip" data-placement="top" title="Email" class="hover-effect-big"> <i class="fa fa-envelope fa-fw" aria-hidden="true"></i> </a></li><li> <a href="javascript:void(0);" aria-label="Copy link" role="button" onclick="copyToClipboard('https://www.mrgreensworkshop.com/posts/2022-05-29-diy-3d-printer-part-2', 'Link copied!')" id="copytoclipboard" data-toggle="tooltip" data-placement="top" title="Copy link" class="hover-effect-big"> <i class="fa fa-link fa-fw" aria-hidden="true"></i> </a></li></ul></div></div></div><div class="pagination_wrapper"><nav aria-label="Page navigation"><ul class="pagination" style="opacity:0"><li><a href="javascript:void(0);" role="button">1</a></li></ul></nav></div><div id="comment_thread"><div id="giscus_thread"></div></div><noscript> Please enable JavaScript to view the Comments. </noscript></div><div class="footer-wrapper"><div class="footer-container"><footer translate="no"><div class="footer-text footer-text-centered long-copyright"><p>&copy; 2022 Mr. Green's Workshop. All rights reserved.</p></div><p class="footer-powered"><span>Pwrd by </span><a href="https://github.com/MrGreensWorkshop/MrGreen-JekyllTheme" target="_blank" rel="noopener noreferrer">Mr. Green</a></p></footer></div></div><div class="scroll-to-top-container"> <a id="scroll-to-top" href="#main-wrapper" role="button" aria-label="Back to top" class="hover-effect"><i class="fa fa-angle-up"></i></a></div></div><div class="searchbox-container"> <form id="searchbox-form" autocomplete="off"> <input type="search" id="search-box" placeholder="Search" onkeyup="if(this.value!==''){document.getElementById('search-results').style.display = 'block';}" onfocusout="this.value='';" onblur="setTimeout(function(){ document.getElementById('search-results').style.display = 'none'; }, 100);"><ul id="search-results" ></ul></form></div><script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v0.4.1/dist/bootstrap-toc.min.js"></script> <script src="/assets/js/main.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/jquery.magnific-popup.min.js"></script> <script> $('.imgViewer[data-no-image-viewer]').css("cursor", "unset"); $(function () { $('.imgViewer:not([data-no-image-viewer])').magnificPopup({ type: 'image' ,image: { titleSrc: 'alt' /* Error message */ ,tError: "The image could not be loaded.<br><br>%url%" /* Set to null to disable zoom out cursor. */ /*,cursor: null */ } ,closeOnContentClick: true ,showCloseBtn: false ,zoom: { /* By default it's false, so don't forget to enable it */ enabled: true /* duration of the effect, in milliseconds */ ,duration: 300 /* CSS transition easing function */ ,easing: 'ease-in-out' } }); }); </script><script src="https://cdnjs.cloudflare.com/ajax/libs/lozad.js/1.16.0/lozad.min.js"></script> <script> /* lazy loads elements with default selector as '.lozad' */ const observer = lozad(); observer.observe(); </script> <script> PagerPageNumbers.setProperties({ paginatorListContainerName: ".pagination_wrapper .pagination" ,pageList: ["/posts/2023-03-24-raspberry-pi-pico-zephyr-rtos-picodro", "/posts/2023-02-16-raspberry-pi-pico-w-bluetooth-classic-spp", "/posts/2022-06-10-raspberry-pi-pico-zephyr-os-part-2", "/posts/2022-05-29-diy-3d-printer-part-2", "/posts/2022-05-29-diy-3d-printer-part-1", "/posts/2022-03-03-mr-green-jekyll-theme"] ,firstButtonName: "First" ,lastButtonName: "Last" ,prevButtonName: "«" ,nextButtonName: "»" }); </script> <script src="/assets/js/simple-jekyll-search-1.9.2.min.js"></script><script> function loadSearch(jsonData, searchParam) { if (!jsonData) jsonData = '/query/search.json'; var searchInput = document.getElementById('search-box'); const simpleJekyllSearch = SimpleJekyllSearch({ searchInput: searchInput ,resultsContainer: document.getElementById('search-results') ,json: jsonData ,searchResultTemplate: '<li> <a href="{url}"><div><div class="title">{title}</div><div class="date">{date}</div><div style="clear: both;"></div></div></a></li>' ,noResultsText: '<li>No results were found.</li>' ,limit: 10 ,fuzzy: false ,formSubmit: document.getElementById('searchbox-form') }); if (searchParam) { searchInput.value = searchParam; searchInput.focus(); searchInput.disabled=false; setTimeout(function(){ simpleJekyllSearch.search(searchParam); }, 400); } } </script> <script> let giscusAttributes = { "src": "https://giscus.app/client.js", "data-repo": "MrGreensWorkshop/comments", "data-repo-id": "R_kgDOI4CvPA", "data-category": "mrgreensworkshop", "data-category-id": "DIC_kwDOI4CvPM4CUDTQ", "data-mapping": "pathname", "data-strict": "1", "data-reactions-enabled": "1", "data-emit-metadata": "0", "data-input-position": "bottom", "data-theme": giscusGetColorTheme(), "data-lang": "en", "data-loading": "lazy", "crossorigin": "anonymous", "async": "" }; function engineLoader() { let giscusScript = document.createElement("script"); Object.entries(giscusAttributes).forEach(([key, value]) => giscusScript.setAttribute(key, value)); document.getElementById("giscus_thread").appendChild(giscusScript); } /* set giscus theme, when data-color-scheme changes. (dark, light) */ function giscusGetColorTheme() { let theme = "light_protanopia"; if (document.body.dataset.colorScheme == "light") { theme = "light_protanopia"; } else if (document.body.dataset.colorScheme == "dark") { theme = "dark_protanopia"; } return theme; } function giscusSetColorScheme() { function giscusSetConfig(config) { const giscusIframe = document.querySelector('iframe.giscus-frame'); if (!giscusIframe) return; giscusIframe.contentWindow.postMessage({ giscus: config }, 'https://giscus.app'); } giscusSetConfig({ setConfig: { theme: giscusGetColorTheme() } }); } const color_scheme_observer = new MutationObserver(giscusSetColorScheme); color_scheme_observer.observe(document.body, {attributeFilter: ["data-color-scheme"]}); /* load when slide to the end of page */ let isMobile = false; function page_bottom_Check(event) { let wind = event.target.scrollingElement; let showBeforeEndOffset = 50; if (isMobile) { /* mobile fix */ showBeforeEndOffset += 56; } if (wind.offsetHeight + wind.scrollTop >= wind.scrollHeight - commentPageOffset - showBeforeEndOffset) { engineLoader(); document.removeEventListener('scroll', page_bottom_Check); slideToComments(); } } const commentPageOffset = document.querySelector('#comment_thread').clientHeight; document.addEventListener('scroll', page_bottom_Check); window.addEventListener("load", function() { isMobile = navigator.userAgent.toLowerCase().match(/mobile/i); let checkScroll = true; if (isMobile) { /* mobile fix */ clientHeight = document.documentElement.clientHeight + 56; } else { clientHeight = document.documentElement.clientHeight; } const scroll_enabled = document.documentElement.scrollHeight > clientHeight; if (checkScroll == true && scroll_enabled == false) { /* if no scroll bar, load at startup */ document.removeEventListener('scroll', page_bottom_Check); engineLoader(); slideToComments(); } }); /* scroll to page bottom to see comments. */ function slideToComments() { document.getElementById('comment_thread').style.minHeight = '324px'; window.scrollTo(0, document.body.scrollHeight); } </script> <script> CookieConsent.consentSettingHtml = "<div class=\"consent-settings\"><h5>Cookie settings</h5><br><p class=\"info-text\">This website uses cookies to optimize site functionality. It will be activated with your approval. Please click each item below for cookie policy.</p><table><tr><td onclick=\"$('.info[data-consent-info=necessary]').slideToggle();$(this).children('i').toggleClass('fa-plus-square-o').toggleClass('fa-minus-square-o')\"> <i class=\"fa-fw fa fa-plus-square-o\" aria-hidden=\"true\"></i><p>Strictly necessary cookies</p></td><td> <span class=\"active_text\">Always active</span></td></tr></table><div class=\"info\" data-consent-info=\"necessary\"><p>These cookies are essential for the website function and cannot be disable. They are usually set when site function like color scheme etc. is changed. These cookies do not store any personally identifiable information. Enables storage related to security such as authentication functionality, fraud prevention, and other user protection.</p></div><table><tr><td onclick=\"$('.info[data-consent-info=analytics]').slideToggle();$(this).children('i').toggleClass('fa-plus-square-o').toggleClass('fa-minus-square-o')\"> <i class=\"fa-fw fa fa-plus-square-o\" aria-hidden=\"true\"></i><p>Performance cookies</p></td><td> <span class=\"active_text\">Always active</span></td></tr></table><div class=\"info\" data-consent-info=\"analytics\"><p>Enables storage (such as cookies) related to analytics e.g. visit duration.</p></div><table><tr><td onclick=\"$('.info[data-consent-info=preferences]').slideToggle();$(this).children('i').toggleClass('fa-plus-square-o').toggleClass('fa-minus-square-o')\"> <i class=\"fa-fw fa fa-plus-square-o\" aria-hidden=\"true\"></i><p>Functionality cookies</p></td><td> <label class=\"slide-switch\"> <input type=\"checkbox\" class=\"checkbox_switch\" data-consent=\"preferences\"> <span class=\"slider\"></span> </label></td></tr></table><div class=\"info\" data-consent-info=\"preferences\"><p>Enables storage that supports the functionality of the website or app e.g. language settings. Enables storage related to personalization e.g. video recommendations.</p></div><table><tr><td onclick=\"$('.info[data-consent-info=advertising]').slideToggle();$(this).children('i').toggleClass('fa-plus-square-o').toggleClass('fa-minus-square-o')\"> <i class=\"fa-fw fa fa-plus-square-o\" aria-hidden=\"true\"></i><p>Targeting and advertising cookies</p></td><td> <label class=\"slide-switch\"> <input type=\"checkbox\" class=\"checkbox_switch\" data-consent=\"advertising\"> <span class=\"slider\"></span> </label></td></tr></table><div class=\"info\" data-consent-info=\"advertising\"><p>Enables storage (such as cookies) related to advertising.</p></div><br><div class=\"button-holder\"> <a href=\"javascript:void(0);\" class=\"btn-base btn-left\" onclick=\"CookieConsent.consentSettingDone('deny');\" role=\"button\" rel=\"nofollow\">Deny</a> <a href=\"javascript:void(0);\" class=\"btn-base btn-priority\" onclick=\"CookieConsent.consentSettingDone('accept');\" role=\"button\" rel=\"nofollow\">Allow all</a> <a href=\"javascript:void(0);\" class=\"btn-base \" onclick=\"CookieConsent.consentSettingDone('save');\" role=\"button\" rel=\"nofollow\">Allow selection</a></div></div>"; CookieConsent.consentSettingSlideType = 'slideBoxTopToDown'; CookieConsent.consentBarHtml = "<div class=\"consent-bar\"> <a class=\"close-button\" href=\"javascript:void(0);\" onclick=\"CookieConsent.hideConsentBar();\" aria-label=\"Close\" role=\"button\" rel=\"nofollow\"><i class=\"fa-fw fa fa-times\"></i></a><p>This website uses cookies to optimize site functionality. It will be activated with your approval.</p><a href=\"javascript:void(0);\" class=\"btn-base \" onclick=\"CookieConsent.consentBarDone('deny');\" role=\"button\" rel=\"nofollow\">Deny</a> <a href=\"javascript:void(0);\" class=\"btn-base \" onclick=\"CookieConsent.consentBarDone('settings');\" role=\"button\" rel=\"nofollow\">Customize</a> <a href=\"javascript:void(0);\" class=\"btn-base btn-priority\" onclick=\"CookieConsent.consentBarDone('accept');\" role=\"button\" rel=\"nofollow\">Allow all</a></div>"; CookieConsent.consent_items = JSON.parse('{"necessary":{"group":["security_storage"],"value":"granted","wait_for_update":500,"cookie_domain":"www.mrgreensworkshop.com","no_check_box":true},"analytics":{"group":["analytics_storage"],"value":"granted","no_check_box":true},"preferences":{"group":["functionality_storage","personalization_storage"],"value":"denied"},"advertising":{"group":["ad_storage"],"value":"denied"}}'); CookieConsent.hideConsentBarWithSaveButton = true; const consent_settings = CookieConsent.getConsentSettings(); const default_configs = JSON.parse('{"anonymize_ip":true,"ads_data_redaction":true,"cookie_flags":"SameSite=None;Secure"}'); </script> <script> window.dataLayer = window.dataLayer || []; function gtag() {dataLayer.push(arguments);} CookieConsent.gtag = gtag; if (Object.keys(consent_settings).length > 0) gtag("consent", "default", consent_settings); if (Object.keys(default_configs).length > 0) gtag("set", default_configs); </script><script defer src="https://www.googletagmanager.com/gtag/js?id=G-SC87NNMPP8"></script> <script> window.dataLayer = window.dataLayer || []; function gtag() {dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-SC87NNMPP8'); </script> <script> LangOfferMsgBox.currentPageLng = "en"; LangOfferMsgBox.supportedLngList = [["en","En","/","View this page in English.","To home","Language"],["ja","Jp","/ja","このページを日本語で表示する。","日本語ホームへ","言語"]]; LangOfferMsgBox.existLng = [["ja","Jp","/ja/2022-05-29-diy-3d-printer-part-2"]]; LangOfferMsgBox.disableExtTranslationOffer = true; LangOfferMsgBox.slideType = 'slideBoxTopToDown'; </script> <script> SlidingMsgBox.html = "<div class=\"slideBox\"> <a class=\"close-button\" href=\"javascript:void(0);\" aria-label=\"Close\" role=\"button\" rel=\"nofollow\"><i class=\"fa-fw fa fa-times\"></i></a></div>"; </script></body></html>
